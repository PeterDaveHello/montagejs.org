montageDefine("abd0b54","tests/test-cookiejar",{dependencies:["../index","assert"],factory:function(e,t,n){function o(e){return(new Date(Date.now()+e)).toUTCString()}var r=e("../index"),i=r.Jar,s=e("assert");(function(){var e=new i,t=new r("sid=1234; path=/; expires="+o(1e3));e.add(t),setTimeout(function(){var n=e.get({url:"http://foo.com/foo"});s.equal(n.length,1),s.equal(n[0],t),setTimeout(function(){var t=e.get({url:"http://foo.com/foo"});s.equal(t.length,0)},1e3)},5)})(),function(){var e=new i,t=new r("sid=1234; path=/"),n=new r("sid=1111; path=/foo/bar"),o=new r("sid=2222; path=/");e.add(t),e.add(n),e.add(o),s.equal(e.cookies.length,2);var u=e.get({url:"http://foo.com/"});s.equal(u.length,1),s.equal(u[0],o);var u=e.get({url:"http://foo.com/foo/bar"});s.equal(u.length,1),s.equal(u[0],n);var e=new i,t=new r("sid=1111; path=/foo/bar"),n=new r("sid=1234; path=/");e.add(t),e.add(n);var u=e.get({url:"http://foo.com/foo/bar"});s.equal(u.length,1),s.equal(u[0],t);var u=e.get({url:"http://foo.com/"});s.equal(u.length,1),s.equal(u[0],n);var e=new i,t=new r("sid=1111; path=/foo/bar"),n=new r("sid=3333; path=/foo/bar"),o=new r("pid=3333; path=/foo/bar"),a=new r("sid=2222; path=/foo/"),f=new r("sid=1234; path=/");e.add(t),e.add(n),e.add(o),e.add(a),e.add(f);var u=e.get({url:"http://foo.com/foo/bar"});s.equal(u.length,2),s.equal(u[0],n),s.equal(u[1],o);var u=e.get({url:"http://foo.com/foo/"});s.equal(u.length,1),s.equal(u[0],a);var u=e.get({url:"http://foo.com/"});s.equal(u.length,1),s.equal(u[0],f)}(),setTimeout(function(){console.log("All tests passed")},1200)}})