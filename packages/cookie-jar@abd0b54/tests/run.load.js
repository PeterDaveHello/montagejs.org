montageDefine("abd0b54","tests/run",{dependencies:["child_process","fs"],factory:function(e,t,n){var r=e("child_process").spawn,i=0,s=1e4,o=e("fs");o.readdir(__dirname,function(e,t){if(e)throw e;var n=t.filter(function(e){return e.slice(0,"test-".length)==="test-"}),o=function(){n.length===0&&process.exit(i);var e=n.shift();console.log(e);var t=r("node",["tests/"+e]),u=!1,a=setTimeout(function(){t.kill(),i+=1,console.error(e+" timeout"),u=!0},s);t.stdout.pipe(process.stdout),t.stderr.pipe(process.stderr),t.on("exit",function(t){t&&!u&&console.error(e+" failed"),i+=t||0,clearTimeout(a),o()})};o()})}})