montageDefine("3e28815","example/usage",{dependencies:["http","request","../lib"],factory:function(e,t,n){var r=e("http"),i=e("request"),s=e("../lib"),o={credentials:{dh37fgj492je:{id:"dh37fgj492je",key:"werxhqb98rpaxn39848xrunpaw3489ruxnpa98w4rxn",algorithm:"sha256",user:"Steve"}}},u=function(e,t){return t(null,o.credentials[e])},a=function(e,t){s.server.authenticate(e,u,{},function(e,n,r){var i=e?"Shoosh!":"Hello "+n.user+" "+r.ext,o={"Content-Type":"text/plain","Server-Authorization":s.server.header(n,r,{payload:i,contentType:"text/plain"})};t.writeHead(e?401:200,o),t.end(i)})};r.createServer(a).listen(8e3,"127.0.0.1"),i("http://127.0.0.1:8000/resource/1?b=1&a=2",function(e,t,n){console.log(t.statusCode+": "+n)}),u("dh37fgj492je",function(e,t){var n=s.client.header("http://127.0.0.1:8000/resource/1?b=1&a=2","GET",{credentials:t,ext:"and welcome!"}),r={uri:"http://127.0.0.1:8000/resource/1?b=1&a=2",method:"GET",headers:{authorization:n.field}};i(r,function(e,r,i){var o=s.client.authenticate(r,t,n.artifacts,{payload:i});console.log(r.statusCode+": "+i+(o?" (valid)":" (invalid)")),process.exit(0)})})}})