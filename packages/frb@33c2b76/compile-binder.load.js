montageDefine("33c2b76","compile-binder",{dependencies:["./compile-observer","./observers","./binders","./algebra"],factory:function(e,t,n){function a(e){return a.semantics.compile(e)}var s=e("./compile-observer");e("./observers");var r=e("./binders"),i=e("./algebra"),o={type:"value"},l={type:"literal",value:!0};n.exports=a,a.semantics={compilers:{property:r.makePropertyBinder,get:r.makeGetBinder,has:r.makeHasBinder,rangeContent:r.makeRangeContentBinder,mapContent:r.makeMapContentBinder,reversed:r.makeReversedBinder,and:r.makeAndBinder,or:r.makeOrBinder},compile:function(e){var t=this.compilers;if("default"===e.type)return this.compile(e.args[0]);if("equals"===e.type){var n=this.compile(e.args[0]),a=s(e.args[1]);return r.makeEqualityBinder(n,a)}if("if"===e.type){var c=s(e.args[0]),p=this.compile(e.args[1]),h=this.compile(e.args[2]);return r.makeConditionalBinder(c,p,h)}if("and"===e.type||"or"===e.type){var u=i(e.args[0],o),d=i(e.args[1],o),n=this.compile(u[0]),g=this.compile(d[0]),m=s(u[1]),f=s(d[1]),v=s(e.args[0]),a=s(e.args[1]);return this.compilers[e.type](n,g,v,a,m,f)}if("everyBlock"===e.type){var y=s(e.args[0]),b=i(e.args[1],l),w=this.compile(b[0]),L=s(b[1]);return r.makeEveryBlockBinder(y,w,L)}if("rangeContent"===e.type){var C,x=s(e.args[0]);try{C=this.compile(e.args[0])}catch(M){C=Function.noop}return r.makeRangeContentBinder(x,C)}if(t.hasOwnProperty(e.type)){var _=e.args.map(s,s.semantics);return t[e.type].apply(null,_)}throw Error("Can't compile binder for "+JSON.stringify(e.type))}}}});