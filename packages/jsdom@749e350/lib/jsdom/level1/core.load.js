montageDefine("749e350","lib/jsdom/level1/core",{dependencies:["canvas"],factory:function(e,t,n){var r=function(e,t,n){e&&t&&n&&(n._ids[e]||(n._ids[e]=[]),n._ids[e].push(t))},i=function(e,t,n){var r,i;if(e&&t&&n&&n._ids&&n._ids[e]){r=n._ids[e];for(i=0;i<r.length;i++)r[i]===t&&(r.splice(i,1),i--);r.length===0&&delete n._ids[e]}},s={mapper:function(e,t,n){return function(){return s.mapDOMNodes(e,n!==!1,t)}},mapDOMNodes:function(e,t,n){function r(e,t){return e.childNodes.reduce(i,t)}function i(e,i){return n(i)&&e.push(i),t&&i._childNodes&&r(i,e),e}return r(e,[])},visitTree:function(e,t){function r(e){if(e){t(e);if(e._childNodes){var n=0,i=e._childNodes,s=i.length;for(n;n<s;n++)r(i[n])}}}var n=e;r(e)},markTreeReadonly:function(e){function t(e){e._readonly=!0;if(e.attributes){var n=e.attributes,r=n.length,i=0;n._readonly=!0;for(i;i<r;i++)s.visitTree(n[i],t)}}s.visitTree(e,t)}},o=s.INDEX_SIZE_ERR=1,u=s.DOMSTRING_SIZE_ERR=2,a=s.HIERARCHY_REQUEST_ERR=3,f=s.WRONG_DOCUMENT_ERR=4,l=s.INVALID_CHARACTER_ERR=5,c=s.NO_DATA_ALLOWED_ERR=6,h=s.NO_MODIFICATION_ALLOWED_ERR=7,p=s.NOT_FOUND_ERR=8,d=s.NOT_SUPPORTED_ERR=9,v=s.INUSE_ATTRIBUTE_ERR=10,m=1,g=2,y=3,b=4,w=5,E=6,S=7,x=8,T=9,N=10,C=11,k=12,L=s.exceptionMessages={};L[o]="Index size error",L[u]="DOMString size error",L[a]="Hierarchy request error",L[f]="Wrong document",L[l]="Invalid character",L[c]="No data allowed",L[h]="No modification allowed",L[p]="Not found",L[d]="Not supported",L[v]="Attribute in use",s.DOMException=function(e,t){this.code=e,Error.call(this,s.exceptionMessages[e]),this.message=s.exceptionMessages[e],t&&(this.message=this.message+": "+t),Error.captureStackTrace&&Error.captureStackTrace(this,s.DOMException)},s.DOMException.INDEX_SIZE_ERR=o,s.DOMException.DOMSTRING_SIZE_ERR=u,s.DOMException.HIERARCHY_REQUEST_ERR=a,s.DOMException.WRONG_DOCUMENT_ERR=f,s.DOMException.INVALID_CHARACTER_ERR=l,s.DOMException.NO_DATA_ALLOWED_ERR=c,s.DOMException.NO_MODIFICATION_ALLOWED_ERR=h,s.DOMException.NOT_FOUND_ERR=p,s.DOMException.NOT_SUPPORTED_ERR=d,s.DOMException.INUSE_ATTRIBUTE_ERR=v,s.DOMException.prototype={INDEX_SIZE_ERR:o,DOMSTRING_SIZE_ERR:u,HIERARCHY_REQUEST_ERR:a,WRONG_DOCUMENT_ERR:f,INVALID_CHARACTER_ERR:l,NO_DATA_ALLOWED_ERR:c,NO_MODIFICATION_ALLOWED_ERR:h,NOT_FOUND_ERR:p,NOT_SUPPORTED_ERR:d,INUSE_ATTRIBUTE_ERR:v},s.DOMException.prototype.__proto__=Error.prototype;var A=function(){};A.prototype=new Array,A.prototype.item=function(e){return this[e]},s.NodeList=function(t,n){if(!n){var r=new A;return Array.isArray(t)&&Array.prototype.push.apply(r,t),r}Object.defineProperties(this,{_element:{value:t},_query:{value:n},_snapshot:{writable:!0},_length:{value:0,writable:!0},_version:{value:-1,writable:!0}}),this.update()},s.NodeList.prototype={update:function(){var e;if(this._element&&this._version<this._element._version){for(e=0;e<this._length;e++)this[e]=undefined;var t=this._snapshot=this._query();this._length=t.length;for(e=0;e<t.length;e++)this[e]=t[e];this._version=this._element._version}return this._snapshot},toArray:function(){return this.update()||[]},get length(){return this.update(),this._length||0},item:function(e){return this.update(),this[e]||null},toString:function(){return"[ jsdom NodeList ]: contains "+this.length+" items"},indexOf:function(e){var t=this.update().length;for(var n=0;n<t;n++)if(this[n]==e)return n;return-1}},s.DOMImplementation=function(t,n){this._ownerDocument=t,this._features={};if(n)for(var r in n)n.hasOwnProperty(r)&&this.addFeature(r.toLowerCase(),n[r])},s.DOMImplementation.prototype={get ownerDocument(){return this._ownerDocument},removeFeature:function(e,t){e=e.toLowerCase();if(this._features[e])if(t){var n=0,r=this._features[e],i=r.length;for(n;n<i;n++)if(r[n]===t){r.splice(n,1);return}}else delete this._features[e]},addFeature:function(e,t){e=e.toLowerCase(),t&&(this._features[e]||(this._features[e]=[]),t instanceof Array?Array.prototype.push.apply(this._features[e],t):this._features[e].push(t))},hasFeature:function(e,t){e=e?e.toLowerCase():"";var n=this._features[e]?this._features[e]:!1;if(!t&&n.length&&n.length>0)return!0;if(typeof n=="string")return n===t;if(n.indexOf&&n.length>0){for(var r=0;r<n.length;r++){var i=n[r]instanceof RegExp?n[r].test(t):n[r]===t;if(i)return!0}return!1}return!1}};var O=function(e,t,n){if(e.attributes){var r=e.attributes,i,s=r.length,o,u;for(i=0;i<s;i++){o=r[i];if(!o.specified)continue;if(o.namespaceURI){t.setAttributeNS(o.namespaceURI,o.nodeName,o.nodeValue);var a=o.nodeName.split(":").pop();u=t.getAttributeNodeNS(o.namespaceURI,a)}else t.setAttribute(o.nodeName,o.nodeValue),u=t.getAttributeNode(o.nodeName);typeof n=="function"&&n(o,u)}}return t};s.Node=function(t){this._childNodes=new s.NodeList,this._ownerDocument=t,this._attributes=new s.AttrNodeMap(t,this),this._nodeName=null,this._childrenList=null,this._version=0,this._nodeValue=null,this._parentNode=null,this._nodeName=null,this._readonly=!1},s.Node.ELEMENT_NODE=m,s.Node.ATTRIBUTE_NODE=g,s.Node.TEXT_NODE=y,s.Node.CDATA_SECTION_NODE=b,s.Node.ENTITY_REFERENCE_NODE=w,s.Node.ENTITY_NODE=E,s.Node.PROCESSING_INSTRUCTION_NODE=S,s.Node.COMMENT_NODE=x,s.Node.DOCUMENT_NODE=T,s.Node.DOCUMENT_TYPE_NODE=N,s.Node.DOCUMENT_FRAGMENT_NODE=C,s.Node.NOTATION_NODE=k,s.Node.prototype={ELEMENT_NODE:m,ATTRIBUTE_NODE:g,TEXT_NODE:y,CDATA_SECTION_NODE:b,ENTITY_REFERENCE_NODE:w,ENTITY_NODE:E,PROCESSING_INSTRUCTION_NODE:S,COMMENT_NODE:x,DOCUMENT_NODE:T,DOCUMENT_TYPE_NODE:N,DOCUMENT_FRAGMENT_NODE:C,NOTATION_NODE:k,get children(){if(!this._childrenList){var e=this;this._childrenList=new s.NodeList(this,function(){return e._childNodes.filter(function(e){return e.tagName})})}return this._childrenList},get nodeValue(){return this._nodeValue},set nodeValue(e){if(this._readonly===!0)throw new s.DOMException(h,"Attempting to modify a read-only node");this._nodeValue=e},get parentNode(){return this._parentNode},get nodeName(){var e=this._nodeName||this._tagName;return this.nodeType===m&&this._ownerDocument&&this._ownerDocument._doctype&&this._ownerDocument._doctype.name.toLowerCase().indexOf("html")!==-1?e.toUpperCase():e},set nodeName(){throw new s.DOMException},get attributes(){return this._attributes},get firstChild(){return this._childNodes.length>0?this._childNodes[0]:null},set firstChild(){throw new s.DOMException},get ownerDocument(){return this._ownerDocument},get readonly(){return this._readonly},get lastChild(){var e=this._childNodes.length;return e>0?this._childNodes[e-1]:null},set lastChild(){throw new s.DOMException},get childNodes(){return this._childNodes},set childNodes(){throw new s.DOMException},_indexOf:function(e){if(!this._childNodes||!this._childNodes.length)return-1;var t,n=0,r=this._childNodes;while(t=r[n]){if(t==e)break;n++}return t==e?n:-1},get nextSibling(){if(!this._parentNode||!this._parentNode._indexOf)return null;var e=this._parentNode._indexOf(this);return e==-1||e+1>=this._parentNode._childNodes.length?null:this._parentNode._childNodes[e+1]||null},set nextSibling(){throw new s.DOMException},get previousSibling(){if(!this._parentNode||!this._parentNode._indexOf)return null;var e=this._parentNode._indexOf(this);return e==-1||e-1<0?null:this._parentNode._childNodes[e-1]||null},set previousSibling(){throw new s.DOMException},insertBefore:function(e,t){if(this._readonly===!0)throw new s.DOMException(h,"Attempting to modify a read-only node");e._ownerDocument||(e._ownerDocument=this._ownerDocument);if(e._ownerDocument!==this._ownerDocument)throw new s.DOMException(f);if(e.nodeType&&e.nodeType===g)throw new s.DOMException(a);var n=this;do if(n===e)throw new s.DOMException(a);while(n=n._parentNode);if(e.nodeType===C){var r;while(e._childNodes.length>0)r=e.removeChild(e.firstChild),this.insertBefore(r,t)}else{if(e===t)return e;e._parentNode&&e._parentNode.removeChild(e);if(t==null)var i=this._childNodes.length;else{var i=this._indexOf(t);if(i==-1)throw new s.DOMException(p)}this._childNodes.splice(i,0,e),e._parentNode=this,this._attached&&e._attach&&e._attach(),this._modified()}return e},_modified:function(){this._version++,this._ownerDocument&&this._ownerDocument._version++,this._childrenList&&this._childrenList.update()},_attrModified:function(e,t,n){if(e=="id"&&this._attached){var s=this._ownerDocument;i(n,this,s),r(t,this,s)}},replaceChild:function(e,t){return this.insertBefore(e,t),this.removeChild(t)},_attach:function(){this._attached=!0,this.id&&r(this.id,this,this._ownerDocument);for(var e=0;e<this._childNodes.length;e++)this._childNodes[e]._attach&&this._childNodes[e]._attach()},_detach:function(){var e,t;this._attached=!1,this.id&&i(this.id,this,this._ownerDocument);for(var e=0;e<this._childNodes.length;e++)this._childNodes[e]._detach()},removeChild:function(e){if(this._readonly===!0)throw new s.DOMException(h);var t=this._indexOf(e);if(t==-1)throw new s.DOMException(p);return this._childNodes.splice(t,1),e._parentNode=null,this._modified(),e._detach(),e},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this._childNodes.length>0},cloneNode:function(e,t){var n=null;switch(this.nodeType){case this.ELEMENT_NODE:n=O(this,this._ownerDocument.createElement(this.tagName),t);break;case this.TEXT_NODE:n=O(this,this._ownerDocument.createTextNode(this.tagName)),n.nodeValue=this.nodeValue;break;case this.CDATA_SECTION_NODE:n=this._ownerDocument.createCDATASection(this.tagName),n.nodeValue=this.nodeValue;break;case this.ENTITY_REFERENCE_NODE:var r=this._entity?this._entity.name:this._entityName,i=this._ownerDocument.createEntityReference(r);n=O(this,i),n.nodeValue=this.nodeValue;break;case this.ATTRIBUTE_NODE:n=this._ownerDocument.createAttribute(this.name);break;case this.ENTITY_NODE:var o=this._ownerDocument.createEntityNode(this.name);n=O(this,o),n.nodeValue=this.nodeValue,n._publicId=this._publicId,n._systemId=this._systemId,n._notationName=this.notationName;break;case this.PROCESSING_INSTRUCTION_NODE:var u=this._ownerDocument.createProcessingInstruction(this._target,this._data);n=O(this,u),n.nodeValue=this.nodeValue;break;case this.COMMENT_NODE:n=this._ownerDocument.createComment(this.tagName),n.nodeValue=this.nodeValue;break;case this.DOCUMENT_NODE:n=O(this,new s.Document);break;case this.DOCUMENT_TYPE_NODE:n=O(this,new s.DocumentType),n.nodeValue=this.nodeValue;break;case this.DOCUMENT_FRAGMENT_NODE:n=this._ownerDocument.createDocumentFragment();break;case this.NOTATION_NODE:n=this._ownerDocument.createNotationNode(this._name,this._publicId,this._systemId),n=O(this,n),n.nodeValue=this.nodeValue;break;default:throw new s.DOMException(p)}typeof t=="function"&&t(this,n);if(e||this.nodeType===g){var a=null;for(var f=0,l=this._childNodes.length;f<l;f++){a=this._childNodes[f].cloneNode(!0);if(a.nodeType===g)n.setAttributeNode(a);else{var c=n._readonly;n._readonly=!1,n.appendChild(a),n._readonly=c}}}return n},normalize:function(){var e,t,n,r;if(this._attributes&&this._attributes.length)for(r=0;r<this._attributes.length;r++)this._attributes.item(r)&&(n=this._attributes.item(r).normalize());for(r=0;r<this._childNodes.length;r++){t=this._childNodes[r],t.normalize&&t.normalize();if(t.nodeValue===""){this.removeChild(t),r--;continue}r>0&&(e=this._childNodes[r-1],t.nodeType===y&&e.nodeType===y&&(e.appendData(t.nodeValue),this.removeChild(t),r--))}},toString:function(){var e="";this.id&&(e="#"+this.id);if(this.className){var t=this.className.split(/\s+/);for(var n=0,r=t.length;n<r;n++)e+="."+t[n]}return"[ "+this.tagName+e+" ]"},raise:function(e,t,n){var r=e+": "+t;n&&(n.exception?r=n.exception.stack:r+=" - More:\n"+n);if(e==="error"){this.errors||(this.errors=[]);var i={type:e,message:t||"No message",data:n||null};this.errors.push(i),this._ownerDocument&&this._ownerDocument.raise&&this!==this._ownerDocument&&this._ownerDocument.raise(e,t,n)}}},s.NamedNodeMap=function(t){this._nodes={},this._nsStore={},this.length=0,this._ownerDocument=t,this._readonly=!1},s.NamedNodeMap.prototype={get readonly(){return this._readonly},get ownerDocument(){this._ownerDocument},exists:function(e){return this._nodes[e]||this._nodes[e]===null?!0:!1},getNamedItem:function(e){return this._nodes[e]||null},setNamedItem:function(e){if(this._readonly===!0)throw new s.DOMException(h);if(e&&e._ownerDocument!==this._ownerDocument)throw new s.DOMException(f);if(e&&e._ownerElement)throw new s.DOMException(v);var t=e.name||e.tagName,n=this._nodes[t];return n||(this.length++,n=null),e._specified=!0,this[t]=this._nodes[t]=e,n},removeNamedItem:function(e){if(this._readonly===!0)throw new s.DOMException(h);if(!this._nodes.hasOwnProperty(e))throw new s.DOMException(p);var t=this._nodes[e]||null;return delete this._nodes[e],delete this[e],this.length--,t},item:function(e){var t=0;for(var n in this._nodes)if(this._nodes.hasOwnProperty(n)){if(t===e&&this._nodes[n])return this._nodes[n];t++}return null}},s.AttrNodeMap=function(t,n){s.NamedNodeMap.call(this,t),this._parentNode=n},s.AttrNodeMap.prototype={get parentNode(){return this._parentNode},setNamedItem:function(e){var t=s.NamedNodeMap.prototype.setNamedItem.call(this,e),n=this._parentNode;return e._ownerElement=n,n._attrModified(e.name,e.value,t&&t.value||null),n._modified(),t},removeNamedItem:function(e){var t=s.NamedNodeMap.prototype.removeNamedItem.call(this,e),n=this._parentNode;t._ownerElement=null,n._attrModified(e),n._modified();var r=this._ownerDocument;if(r&&r._doctype&&r._doctype.name.toLowerCase()!=="html"){var i=!1,o=r._doctype._attributes.getNamedItem(this._parentNode.nodeName);if(o){var i=o.attributes.getNamedItem(e);if(i){var u=r.createAttribute(e);u.value=i.value,u._specified=!1,this._nodes[e]=u,this.length++}}}return t}},s.AttrNodeMap.prototype.__proto__=s.NamedNodeMap.prototype,s.NotationNodeMap=function(t){s.NamedNodeMap.call(this,t),this._readonly=!1;for(var n=1;n<arguments.length;n++)this.setNamedItem(arguments[n]);this._readonly=!0},s.NotationNodeMap.prototype={},s.NotationNodeMap.prototype.__proto__=s.NamedNodeMap.prototype,s.EntityNodeMap=function(t){s.NamedNodeMap.call(this,t),this._readonly=!1;var n=1,r=arguments.length;for(n=1;n<r;n++)this.setNamedItem(arguments[n]);s.markTreeReadonly(this)},s.EntityNodeMap.prototype={},s.EntityNodeMap.prototype.__proto__=s.NamedNodeMap.prototype,s.Element=function(t,n){this._ownerDocument=t,s.Node.call(this,t),this._nodeName=n,this._tagName=n},s.Element.prototype={get nodeValue(){return null},set nodeValue(e){},get tagName(){return this.nodeType===m&&this._ownerDocument&&this._ownerDocument._doctype&&this._ownerDocument._doctype.name.toLowerCase().indexOf("html")!==-1?this.nodeName.toUpperCase():this.nodeName},nodeType:m,get attributes(){for(var e=0;e<this._attributes.length;e++)this._attributes[e]=this._attributes.item(e);return this._attributes},getAttribute:function(e){var t=this._attributes.getNamedItem(e);return t?t.value:""},setAttribute:function(e,t){if(e.length>2&&e[0]=="o"&&e[1]=="n"){var n=this;n[e]=function(){n.run!=undefined?n.run(t):(n._ownerDocument.parentWindow.__tempContextForInlineEventHandler=n,n._ownerDocument.parentWindow.run("(function () {"+t+"}).call(window.__tempContextForInlineEventHandler);"),delete n.ownerDocument.parentWindow.__tempContextForInlineEventHandler)}}if(this._ownerDocument){var r=this._ownerDocument.createAttribute(e);r.value=t,this._attributes.setNamedItem(r)}},removeAttribute:function(e){if(!this._attributes.exists(e))return;this._attributes.removeNamedItem(e)},getAttributeNode:function(e){return this._attributes.getNamedItem(e)},setAttributeNode:function(e){var t=this._attributes.getNamedItem(e.name);return t&&(t._ownerElement=null),this._attributes.setNamedItem(e),t&&t.specified?t:null},removeAttributeNode:function(e){var t=this._attributes.getNamedItem(e.name);if(this._attributes&&t===e)return this._attributes.removeNamedItem(e.name),e;throw new s.DOMException(p)},getElementsByTagName:function(e){function t(t){return t=t.nodeType===w?t._entity:t,t.nodeName&&t.nodeType===m?e==="*"||t.nodeName.toLowerCase()===e:!1}return e=e.toLowerCase(),new s.NodeList(this._ownerDocument||this,s.mapper(this,t,!0))}},s.Element.prototype.__proto__=s.Node.prototype,s.DocumentFragment=function(t){s.Node.call(this,t),this._nodeName=this._tagName="#document-fragment"},s.DocumentFragment.prototype={nodeType:C,get nodeValue(){return null},set nodeValue(){},get attributes(){return null}},s.DocumentFragment.prototype.__proto__=s.Node.prototype,s.ProcessingInstruction=function(t,n,r){this._ownerDocument=t,s.Node.call(this,t),this._nodeName=n,this._tagName=n,this._target=n,this._nodeValue=r},s.ProcessingInstruction.prototype={nodeType:S,get target(){return this._target},set target(e){throw new s.DOMException(1)},get nodeValue(){return this._nodeValue},set nodeValue(e){this._nodeValue=e},get data(){return this._nodeValue},set data(){throw new s.DOMException(h)},get attributes(){return null}},s.ProcessingInstruction.prototype.__proto__=s.Node.prototype,s.Document=function(t){t?typeof t=="string"&&(t={name:t}):t={},s.Node.call(this,"#document"),this._nodeName=this._tagName="#document",this._contentType=t.contentType||"text/xml",this._doctype=t._doctype,this._implementation=t.implementation||new s.DOMImplementation,this._documentElement=null,this._ids={},this._attached=!0,this._ownerDocument=this,this._readonly=!1};var M=/[^\w:\d_\.-]+/i,_=/[^\w\d_\-&;]+/,D=/[^\w:\d_\.-]+/;s.Document.prototype={nodeType:T,_elementBuilders:{canvas:function(t,n){var r=new s.Element(t,n),i;try{i=new(e("canvas"))(0,0);for(var o in r)i[o]||(i[o]=r[o]);return i}catch(u){return r}}},_defaultElementBuilder:function(e,t){return new s.Element(e,t)},get contentType(){return this._contentType},get doctype(){return this._doctype||null},set doctype(e){this._doctype=e},get documentElement(){if(this._documentElement)return this._documentElement;var e=this._childNodes,t=this._childNodes.length,n=0;for(n;n<t;n++)if(e[n].nodeType===m)return this._documentElement=e[n],e[n];return null},get implementation(){return this._implementation},set implementation(e){this._implementation=e},get nodeName(){return"#document"},get tagName(){return null},get nodeValue(){return null},set nodeValue(){},get attributes(){return null},get ownerDocument(){return null},get readonly(){return this._readonly},createElement:function(e){var t=[],n=e.toLowerCase(),r;if(!e||!e.match||(t=e.match(M)))throw new s.DOMException(l,"Invalid character in tag name: "+t.pop());r=(this._elementBuilders[n]||this._defaultElementBuilder)(this,e);if(this._doctype&&this._doctype._attributes&&this._doctype.name.toLowerCase()!=="html"){var i=this._doctype._attributes.getNamedItem(e);if(i&&i._childNodes){attrs=i.attributes;var o,u=attrs.length,a;for(var f=0;f<u;f++)a=attrs.item(f),a&&(o=this.createAttribute(a.name),o.value=a.value,r.setAttributeNode(o),o._specified=!1)}}return r._created=!0,r},createDocumentFragment:function(){return new s.DocumentFragment(this)},createTextNode:function(e){return new s.Text(this,e)},createComment:function(e){return new s.Comment(this,e)},createCDATASection:function(e){if(this._doctype&&this._doctype.name==="html")throw new s.DOMException(d);return new s.CDATASection(this,e)},createProcessingInstruction:function(e,t){if(this._doctype&&this._doctype.name==="html")throw new s.DOMException(d);if(e.match(M)||!e||!e.length)throw new s.DOMException(l);return new s.ProcessingInstruction(this,e,t)},createAttribute:function(e){if(!e||!e.length||e.match(D))throw new s.DOMException(l,"attribute name: "+e);return new s.Attr(this,e,!1)},createEntityReference:function(e){if(this._doctype&&this._doctype.name==="html")throw new s.DOMException(d);e=e.replace(/[&;]/g,"");if(!e||!e.length)throw new s.DOMException(l);if(e.match(M))throw new s.DOMException(l);var t;this._doctype&&this._doctype.entities?t=this._doctype.entities.getNamedItem(e):t=null;var n=new s.EntityReference(this,t);return n._entityName=e,n},createEntityNode:function(e){if(e.match(_)||!e||!e.length)throw new s.DOMException(l);var t=new s.Entity(this,e);t._readonly=!1;for(var n=1;n<arguments.length;n++)t.appendChild(arguments[n]);return s.markTreeReadonly(t),t},createNotationNode:function(e,t,n){if(e.match(_)||!e||!e.length)throw new s.DOMException(l);var r=new s.Notation(this,e,t,n);r._readonly=!1;for(var i=3;i<arguments.length;i++)r.appendChild(arguments[i]);return s.markTreeReadonly(r),r},appendChild:function(e){if(this.documentElement&&e.nodeType==m)throw new s.DOMException(a);return s.Node.prototype.appendChild.call(this,e)},removeChild:function(e){var t=s.Node.prototype.removeChild.call(this,e);return e==this._documentElement&&(this._documentElement=null),t},getElementsByTagName:function(e){function t(t){t.nodeType&&t.nodeType===w&&(t=t._entity);if(t.nodeName&&t.nodeType===m){if(e==="*")return!0;if(t._ownerDocument&&t._ownerDocument._doctype&&t.nodeName.toLowerCase()===e.toLowerCase())return!0;if(t.nodeName.toLowerCase()===e.toLowerCase())return!0}return!1}return new s.NodeList(this.documentElement||this,s.mapper(this,t,!0))}},s.Document.prototype.__proto__=s.Node.prototype,s.CharacterData=function(t,n){s.Node.call(this,t),this._nodeValue=n+""},s.CharacterData.prototype={get data(){return this._nodeValue},set data(e){if(this._readonly===!0)throw new s.DOMException(h);this._nodeValue=e},get length(){return this._nodeValue.length||0},substringData:function(e,t){if(t<0||e<0||e>this._nodeValue.length)throw new s.DOMException(o);return this._nodeValue.length<e+t?this._nodeValue.substring(e):this._nodeValue.substring(e,e+t)},appendData:function(e){if(this._readonly===!0)throw new s.DOMException(h);return this._nodeValue+=e,this._nodeValue},insertData:function(e,t){if(this._readonly===!0)throw new s.DOMException(h);if(e<0||e>this._nodeValue.length)throw new s.DOMException(o);var n=this._nodeValue.substring(0,e),r=this._nodeValue.substring(e);this._nodeValue=n+t+r},deleteData:function(e,t){if(this._readonly===!0)throw new s.DOMException(h);if(e<0||e>this._nodeValue.length||t<0)throw new s.DOMException(o);var n=this._nodeValue.substring(0,e);this._nodeValue=e+t<this._nodeValue.length?n+this._nodeValue.substring(e+t):n},replaceData:function(e,t,n){if(this._readonly===!0)throw new s.DOMException(h);t=e+t>this._nodeValue.length?this.nodeValue.length-e:t;if(e<0||e>this._nodeValue.length||t<0)throw new s.DOMException(o);var r=this._nodeValue.substring(0,e),i=this._nodeValue.substring(e+t);this._nodeValue=r+n+i}},s.CharacterData.prototype.__proto__=s.Node.prototype,s.Attr=function(t,n,r){s.Node.call(this,t),this._nodeValue=r,this._name=n,this._specified=r?!0:!1,this._tagName=n,this._nodeName=n},s.Attr.prototype={nodeType:g,get nodeValue(){var e="";for(var t=0,n=this._childNodes.length;t<n;t++){var r=this._childNodes[t];r.nodeType===w?e+=r.childNodes.reduce(function(e,t){return e+=t.nodeValue||t},""):e+=r.nodeValue}return e},set nodeValue(e){if(this._readonly)throw new s.DOMException(h);this._childNodes.length=0,this._childNodes.push(this._ownerDocument.createTextNode(e)),this._modified(),this._specified=!0;var t=this._nodeValue;this._nodeValue=e,this._ownerElement&&this._ownerElement._attrModified(this._name,e,t)},get name(){return this._name},get specified(){return this._specified},get value(){return this.nodeValue},set value(e){this.nodeValue=e},get parentNode(){return null},get attributes(){return null},insertBefore:function(e,t){if(e.nodeType===b||e.nodeType===m)throw new s.DOMException(a);return s.Node.prototype.insertBefore.call(this,e,t)},appendChild:function(e){if(e.nodeType===b||e.nodeType===m)throw new s.DOMException(a);return s.Node.prototype.appendChild.call(this,e)}},s.Attr.prototype.__proto__=s.Node.prototype,s.Text=function(t,n,r){s.CharacterData.call(this,t,n),this._nodeName="#text",this._readonly=r?!0:!1},s.Text.prototype={nodeType:y,get attributes(){return null},splitText:function(e){if(this._readonly)throw new s.DOMException(h);if(e<0||e>this._nodeValue.length)throw new s.DOMException(o);var t=this._nodeValue.substring(e);this._nodeValue=this._nodeValue.substring(0,e);var n=this._ownerDocument.createTextNode(t);return this._parentNode.lastChild===this?this._parentNode.appendChild(n):this._parentNode.insertBefore(n,this.nextSibling),n},toString:function(){return this.nodeName}},s.Text.prototype.__proto__=s.CharacterData.prototype,s.Comment=function(t,n){s.Text.call(this,t,n),this._nodeName="#comment",this._tagName="#comment"},s.Comment.prototype={nodeType:x},s.Comment.prototype.__proto__=s.Text.prototype,s.CDATASection=function(t,n){s.Text.call(this,t,n),this._nodeName="#cdata-section"},s.CDATASection.prototype={nodeType:b},s.CDATASection.prototype.__proto__=s.Text.prototype,s.DocumentType=function(t,n,r,i,o){s.Node.call(this,t),this._name=n,this._tagName=n,this._nodeName=n,this._entities=r||new s.EntityNodeMap(t),this._notations=i||new s.NotationNodeMap(t),s.markTreeReadonly(this._notations),this._attributes=o||new s.AttrNodeMap(t)},s.DocumentType.prototype={nodeType:N,get nodeValue(){return null},set nodeValue(){},get name(){return this._name},get entities(){return this._entities},get notations(){return this._notations},get attributes(){return null}},s.DocumentType.prototype.__proto__=s.Node.prototype,s.Notation=function(t,n,r,i){s.Node.call(this,t),this._name=n,this._nodeName=n,this._publicId=r||null,this._systemId=i||null,this._nodeValue=null},s.Notation.prototype={nodeType:k,get publicId(){return this._publicId},get systemId(){return this._systemId},get name(){return this._name||this._nodeName},get attributes(){return null},set nodeValue(){},get nodeValue(){return this._nodeValue}},s.Notation.prototype.__proto__=s.Node.prototype,s.Entity=function(t,n){s.Node.call(this,t),this._name=n,this._nodeName=n,this._tagName=n,this._publicId=null,this._systemId=null,this._notationName=null,this._readonly=!0},s.Entity.prototype={nodeType:E,get nodeValue(){return null},set nodeValue(){this._readonly===!0},get name(){return this._name},get publicId(){return this._publicId},get systemId(){return this._systemId},set publicId(e){this._publicId=e},set systemId(e){this._systemId=e},set notationName(e){this._notationName=e},get notationName(){return this._notationName},get attributes(){return null}},s.Entity.prototype.__proto__=s.Node.prototype,s.EntityReference=function(t,n){s.Node.call(this,t),this._entity=n,this._nodeName=n?n.name:null,this._readonly=!0},s.EntityReference.prototype={nodeType:w,get nodeValue(){return this._entity?this._entity.nodeValue:null},set nodeValue(){this._readonly===!0},get attributes(){return null},get nodeName(){return this._entityName},get firstChild(){return this._entity.firstChild||null},get childNodes(){return this._entity.childNodes},get lastChild(){return this._entity.lastChild||null}},s.EntityReference.prototype.__proto__=s.Node.prototype,t.dom={level1:{core:s}}}})