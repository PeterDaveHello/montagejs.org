var core=require("../level2/core").dom.level2.core,HtmlToDom=require("../browser/htmltodom").HtmlToDom,domToHtml=require("../browser/domtohtml").domToHtml,htmlencoding=require("../browser/htmlencoding"),HTMLEncode=htmlencoding.HTMLEncode,HTMLDecode=htmlencoding.HTMLDecode;core=Object.create(core),core.VALIDATION_ERR=16,core.TYPE_MISMATCH_ERR=17,core.DOMImplementation.prototype.getFeature=function(e,t){};var DOCUMENT_POSITION_DISCONNECTED=core.Node.prototype.DOCUMENT_POSITION_DISCONNECTED=1,DOCUMENT_POSITION_PRECEDING=core.Node.prototype.DOCUMENT_POSITION_PRECEDING=2,DOCUMENT_POSITION_FOLLOWING=core.Node.prototype.DOCUMENT_POSITION_FOLLOWING=4,DOCUMENT_POSITION_CONTAINS=core.Node.prototype.DOCUMENT_POSITION_CONTAINS=8,DOCUMENT_POSITION_CONTAINED_BY=core.Node.prototype.DOCUMENT_POSITION_CONTAINED_BY=16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=core.Node.prototype.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,DOCUMENT_TYPE_NODE=core.Node.prototype.DOCUMENT_TYPE_NODE;core.Node.prototype.compareDocumentPosition=function(t){if(t instanceof core.Node){var n,r;this.nodeType===this.DOCUMENT_NODE?n=this:n=this.ownerDocument,t.nodeType===this.DOCUMENT_NODE?r=t:r=t.ownerDocument;if(this===t)return 0;if(this===t.ownerDocument)return DOCUMENT_POSITION_FOLLOWING+DOCUMENT_POSITION_CONTAINED_BY;if(this.ownerDocument===t)return DOCUMENT_POSITION_PRECEDING+DOCUMENT_POSITION_CONTAINS;if(n!==r)return DOCUMENT_POSITION_DISCONNECTED;if(this.nodeType===this.ATTRIBUTE_NODE&&this._childNodes&&this._childNodes.indexOf(t)!==-1)return DOCUMENT_POSITION_FOLLOWING+DOCUMENT_POSITION_CONTAINED_BY;if(t.nodeType===this.ATTRIBUTE_NODE&&t._childNodes&&t._childNodes.indexOf(this)!==-1)return DOCUMENT_POSITION_PRECEDING+DOCUMENT_POSITION_CONTAINS;var i=this,s=[],o=null;while(i){if(i==t)return DOCUMENT_POSITION_PRECEDING+DOCUMENT_POSITION_CONTAINS;s.push(i),i=i._parentNode}i=t,o=null;while(i){if(i==this)return DOCUMENT_POSITION_FOLLOWING+DOCUMENT_POSITION_CONTAINED_BY;var u=s.indexOf(i);if(u!==-1){var a=s[u],f=a._childNodes.indexOf(s[u-1]),l=a._childNodes.indexOf(o);return f>l?DOCUMENT_POSITION_PRECEDING:DOCUMENT_POSITION_FOLLOWING}o=i,i=i._parentNode}return DOCUMENT_POSITION_DISCONNECTED}throw Error("Comparing position against non-Node values is not allowed")},core.Node.prototype.isSameNode=function(e){return e===this},core.Node.prototype.__defineGetter__("textContent",function(){if(this.nodeType===this.TEXT_NODE||this.nodeType===this.COMMENT_NODE||this.nodeType===this.ATTRIBUTE_NODE||this.nodeType===this.CDATA_SECTION_NODE)return this.nodeValue;if(this.nodeType===this.ELEMENT_NODE||this.nodeType===this.DOCUMENT_FRAGMENT_NODE){var e="";for(var t=0;t<this.childNodes.length;t+=1)e+=this.childNodes[t].textContent||"";return e}return null}),core.Node.prototype.__defineSetter__("textContent",function(e){for(var t=this.childNodes.length;--t>=0;)this.removeChild(this.childNodes.item(t));return e!==""&&e!=null&&this.appendChild(this._ownerDocument.createTextNode(e)),e}),core.Node.prototype.isEqualNode=function(e){var t=this,n=function(){for(var n=0;n<arguments.length;n++){var r=arguments[n];if(t[r]!=e[r])return!0}return!1},r=function(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(e.length!=t.length)return!0;var n=[];for(var r=0;r<t.length;r++)n[r]=r;for(var i=0;i<e.length;i++){var s=!1;for(var r=0;r<n.length;r++)if(e.item(i).isEqualNode(t.item(n[r]))){s=!0,n.splice(r,1);break}if(!s)return!0}return!1},i=function(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(e.length!=t.length)return!0;for(var n=0;n<e.length;n++)if(!e.item(n).isEqualNode(t.item(n)))return!0;return!1};if(!e)return!1;if(this.isSameNode(e))return!0;if(this.nodeType!=e.nodeType)return!1;if(n("nodeName","localName","namespaceURI","prefix","nodeValue"))return!1;if(r(this.attributes,e.attributes))return!1;if(i(this.childNodes,e.childNodes))return!1;if(this.nodeType==DOCUMENT_TYPE_NODE){if(n("publicId","systemId","internalSubset"))return!1;if(r(this.entities,e.entities))return!1;if(r(this.notations,e.notations))return!1}return!0},core.Node.prototype.setUserData=function(e,t,n){var r=this[e]||null;return this[e]=t,r},core.Node.prototype.getUserData=function(e){var t=this[e]||null;return t},core.Attr.prototype.__defineGetter__("isId",function(){return this.name.toLowerCase()==="id"}),core.UserDataHandler=function(){},core.UserDataHandler.prototype.NODE_CLONED=1,core.UserDataHandler.prototype.NODE_IMPORTED=2,core.UserDataHandler.prototype.NODE_DELETED=3,core.UserDataHandler.prototype.NODE_RENAMED=4,core.UserDataHandler.prototype.NODE_ADOPTED=5,core.UserDataHandler.prototype.handle=function(e,t,n,r,i){},core.DOMError=function(e,t,n,r,i,s){this._severity=e,this._message=t,this._type=n,this._relatedException=r,this._relatedData=i,this._location=s},core.DOMError.prototype={},core.DOMError.prototype.SEVERITY_WARNING=1,core.DOMError.prototype.SEVERITY_ERROR=2,core.DOMError.prototype.SEVERITY_FATAL_ERROR=3,core.DOMError.prototype.__defineGetter__("severity",function(){return this._severity}),core.DOMError.prototype.__defineGetter__("message",function(){return this._message}),core.DOMError.prototype.__defineGetter__("type",function(){return this._type}),core.DOMError.prototype.__defineGetter__("relatedException",function(){return this._relatedException}),core.DOMError.prototype.__defineGetter__("relatedData",function(){return this._relatedData}),core.DOMError.prototype.__defineGetter__("location",function(){return this._location}),core.DOMConfiguration=function(){var e={"canonical-form":[!1,!0],"cdata-sections":[!0,!1],"check-character-normalization":[!1,!0],comments:[!0,!1],"datatype-normalization":[!1,!0],"element-content-whitespace":[!0,!1],entities:[!0,!1],infoset:[undefined,!0,!1],namespaces:[!0,!1],"namespace-declarations":[!0,!1],"normalize-characters":[!1,!0],"split-cdata-sections":[!0,!1],validate:[!1,!0],"validate-if-schema":[!1,!0],"well-formed":[!0,!1]}},core.DOMConfiguration.prototype={setParameter:function(e,t){},getParameter:function(e){},canSetParameter:function(e,t){},parameterNames:function(){}},core.Document.prototype.__defineGetter__("domConfig",function(){return this._domConfig||new core.DOMConfiguration}),core.DOMStringList=function(){},core.DOMStringList.prototype={item:function(){},length:function(){},contains:function(){}},core.Document.prototype._inputEncoding=null,core.Document.prototype.__defineGetter__("inputEncoding",function(){return this._inputEncoding}),exports.dom={level3:{core:core}}