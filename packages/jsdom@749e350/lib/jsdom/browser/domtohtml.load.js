montageDefine("749e350","lib/jsdom/browser/domtohtml",{dependencies:["./htmlencoding"],factory:function(e,t,n){function a(e){if(e.ownerDocument&&e.ownerDocument._fullDT)return e.ownerDocument._fullDT;var t="<!DOCTYPE "+e.name;return e.publicId&&(t+=' PUBLIC "'+e.publicId+'" '),!e.publicId&&e.systemId&&(t+=" SYSTEM "),e.systemId&&(e.systemId.indexOf('"')>-1?t+="'"+e.systemId+"'":t+='"'+e.systemId+'"'),t+=">",t}var r={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1},i={upperCaseChars:/([A-Z])/g,breakBetweenTags:/(<(\/?\w+).*?>)(?=<(?!\/\2))/gi,singleTag:function(){var e=[];for(var t in r)e.push(t);return new RegExp("<"+e.join("|<"),"i")}()},s=function(e,t){return"-"+t.toLowerCase()},o=e("./htmlencoding").HTMLEncode;t.stringifyElement=function(t){var n=t.tagName.toLowerCase(),i={start:"<"+n,end:""},s=[],u,a=null;if(t.attributes.length){i.start+=" ";for(u=0;u<t.attributes.length;u++)a=t.attributes.item(u),s.push(a.name+'="'+o(a.nodeValue,!0)+'"')}return i.start+=s.join(" "),r[n]?(i.start+=" />",i.end=""):(i.start+=">",i.end="</"+n+">"),i};var u=/SCRIPT|STYLE/i;t.makeHtmlGenerator=function(n,r){return n=n||"",r=r||"",function i(e,s,f){var l="",c,h,p;f=f||"";if(e){e.nodeType&&e.nodeType===e.ENTITY_REFERENCE_NODE&&(e=e._entity);var d=s||u.test(e.nodeName);switch(e.nodeType){case e.ELEMENT_NODE:h=t.stringifyElement(e),d?l+=f+h.start:l+=f+h.start;if(e._childNodes.length>0){e._childNodes[0].nodeType!==e.TEXT_NODE&&(l+=r);for(p=0;p<e._childNodes.length;p++)l+=i(e._childNodes[p],d,f+n);e._childNodes[e._childNodes.length-1].nodeType!==e.TEXT_NODE&&(l+=f),l+=h.end+r}else l+=((s?e.nodeValue:o(e.nodeValue,!1))||"")+h.end+r;break;case e.TEXT_NODE:if(!n||!/^[\s\n]*$/.test(e.nodeValue))l+=(s?e.nodeValue:o(e.nodeValue,!1))||"";break;case e.COMMENT_NODE:l+=f+"<!--"+e.nodeValue+"-->"+r;break;case e.DOCUMENT_NODE:for(p=0;p<e._childNodes.length;p++)l+=i(e._childNodes[p],d,f);break;case e.DOCUMENT_TYPE_NODE:l+=a(e)}}return l}},t.domToHtml=function(e,n,r){var i=t.makeHtmlGenerator(n?"":"  ",n?"":"\n");e.toArray&&(e=e.toArray());if(typeof e.length!="undefined"){var s="";for(var o=0,u=e.length;o<u;o++)s+=i(e[o],r);return s}return i(e,r)}}})