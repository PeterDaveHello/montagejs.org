function HtmlToDom(e){if(e&&e.write)this.appendHtmlToElement=function(t,n){var r=n,i=0;return e.onerror=function(e){},e.ontext=function(e){var t=r.ownerDocument||r,n=t.createTextNode(e);r.appendChild(n)},e.onopentag=function(e){var t=e.name.toLowerCase(),n=r.ownerDocument||r,i=n.createElement(t),s=0,o=e.attributes&&e.attributes.length?e.attributes.length:0;for(s in e.attributes)e.attributes.hasOwnProperty(s)&&i.setAttribute(s,e.attributes[s]);for(s=0;s<e.attributes.length;s++)i.setAttribute(s,e.attributes.item(s));r.appendChild(i),r=i},e.onclosetag=function(e){r=r.parentNode},e.write(t).close(),n};else if(e&&(e.ParseHtml||e.DefaultHandler)){if(!e.ParseHtml&&e.DefaultHandler){var t=new e.DefaultHandler,n=new e.Parser(t);e.ParseHtml=function(e){return n.includeLocation=!1,n.parseComplete(e),t.dom}}this.appendHtmlToElement=function(t,n){typeof t!="string"&&(t+="");var r=e.ParseHtml(t);for(var i=0;i<r.length;i++)setChild(n,r[i]);return n}}else e&&e.moduleName=="HTML5"?this.appendHtmlToElement=function(t,n){typeof t!="string"&&(t+="");if(t.length>0)if(n.nodeType==9)(new e.Parser({document:n})).parse(t);else{var r=new e.Parser({document:n.ownerDocument});r.parse_fragment(t,n)}}:this.appendHtmlToElement=function(){console.log(""),console.log("###########################################################"),console.log("#  WARNING: No HTML parser could be found."),console.log("#  Element.innerHTML setter support has been disabled"),console.log("#  Element.innerHTML getter support will still function"),console.log("#  Download: http://github.com/tautologistics/node-htmlparser"),console.log("###########################################################"),console.log("")}}function setChild(e,t){var n,r,i=e._ownerDocument||e;switch(t.type){case"tag":case"script":case"style":try{r=i.createElement(t.name),t.location&&(r.sourceLocation=t.location,r.sourceLocation.file=e.sourceLocation.file)}catch(s){return i.raise("error","invalid markup",{exception:s,node:t}),null}break;case"text":r=i.createTextNode(/^(?:script|style)$/i.test(e.nodeName)?t.data:HTMLDecode(t.data));break;case"comment":r=i.createComment(t.data);break;default:return null}if(!r)return null;if(t.attribs)for(n in t.attribs)try{r.setAttribute(n.toLowerCase(),HTMLDecode(t.attribs[n]))}catch(o){}if(t.children)for(n=0;n<t.children.length;n++)setChild(r,t.children[n]);try{return e.appendChild(r)}catch(s){return i.raise("error",s.message,{exception:s,node:t}),null}}var HTMLDecode=require("./htmlencoding").HTMLDecode;exports.HtmlToDom=HtmlToDom