montageDefine("d602712","lib/index",{dependencies:["http","util","hoek"],factory:function(e,t,n){var r=e("http"),i=e("util"),s=e("hoek"),o={};t=n.exports=o.Boom=function(){var e=this;s.assert(this.constructor===o.Boom,"Error must be instantiated using new"),Error.call(this),this.isBoom=!0,this.response={code:0,payload:{},headers:{}};if(arguments[0]instanceof Error){var t=arguments[0];this.data=t,this.response.code=t.code||500,t.message&&(this.message=t.message)}else{var n=arguments[0],r=arguments[1];s.assert(!isNaN(parseFloat(n))&&isFinite(n)&&n>=400,"First argument must be a number (400+)"),this.response.code=n,r&&(this.message=r)}return this.reformat(),this},i.inherits(o.Boom,Error),o.Boom.prototype.reformat=function(){this.response.payload.code=this.response.code,this.response.payload.error=r.STATUS_CODES[this.response.code]||"Unknown",this.message&&(this.response.payload.message=s.escapeHtml(this.message))},o.Boom.badRequest=function(e){return new o.Boom(400,e)},o.Boom.unauthorized=function(e,t,n){var r=new o.Boom(401,e);if(!t)return r;var i="";if(typeof t=="string"){i=t;if(n){var u=Object.keys(n);for(var a=0,f=u.length;a<f;++a){a&&(i+=",");var l=n[u[a]];if(l===null||l===undefined)l="";i+=" "+u[a]+'="'+s.escapeHeaderAttribute(l.toString())+'"'}}e?(n&&(i+=","),i+=' error="'+s.escapeHeaderAttribute(e)+'"'):r.isMissing=!0}else{var c=t;for(var a=0,f=c.length;a<f;++a)a&&(i+=", "),i+=c[a]}return r.response.headers["WWW-Authenticate"]=i,r},o.Boom.clientTimeout=function(e){return new o.Boom(408,e)},o.Boom.serverTimeout=function(e){return new o.Boom(503,e)},o.Boom.forbidden=function(e){return new o.Boom(403,e)},o.Boom.notFound=function(e){return new o.Boom(404,e)},o.Boom.internal=function(e,t){var n=new o.Boom(500,e);return t&&t.stack?(n.trace=t.stack.split("\n"),n.outterTrace=s.displayStack(1)):n.trace=s.displayStack(1),n.data=t,n.response.payload.message="An internal server error occurred",n},o.Boom.passThrough=function(e,t,n,r){var i=new o.Boom(500,"Pass-through");return i.data={code:e,payload:t,type:n},i.response.code=e,i.response.type=n,i.response.headers=r,i.response.payload=t,i}}})