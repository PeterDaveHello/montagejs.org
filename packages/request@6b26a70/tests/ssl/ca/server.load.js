montageDefine("6b26a70","tests/ssl/ca/server",{dependencies:["fs","https"],factory:function(e,t,n){var r=e("fs"),i=e("https"),s={key:r.readFileSync("./server.key"),cert:r.readFileSync("./server.crt")},o=i.createServer(s,function(e,t){t.writeHead(200),t.end(),o.close()});o.listen(1337);var u=r.readFileSync("./ca.crt"),a=new i.Agent({host:"localhost",port:1337,ca:u});i.request({host:"localhost",method:"HEAD",port:1337,headers:{host:"testing.request.mikealrogers.com"},agent:a,ca:[u],path:"/"},function(e){if(!e.client.authorized)throw new Error(e.client.authorizationError);console.log("node test: OK")}).end()}})