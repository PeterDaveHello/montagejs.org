montageDefine("6b26a70","tests/test-timeout",{dependencies:["./server","events","stream","assert","../index"],factory:function(e,t,n){var r=e("./server"),i=e("events"),s=e("stream"),o=e("assert"),u=e("../index"),a=r.createServer(),f="waited",l=5;a.listen(a.port,function(){function s(){--l==0&&(a.close(),console.log("All tests passed."))}a.on("/timeout",function(e,t){setTimeout(function(){t.writeHead(200,{"content-type":"text/plain"}),t.write(f),t.end()},200)});var e={url:a.url+"/timeout",timeout:100};u(e,function(e,t,n){o.equal(e.code,"ETIMEDOUT"),s()});var t={url:a.url+"/timeout",timeout:300};u(t,function(e,t,n){o.equal(e,null),o.equal(f,n),s()});var n={url:a.url+"/timeout"};u(n,function(e,t,n){o.equal(e),o.equal(f,n),s()});var r={url:a.url+"/timeout",timeout:-1e3};u(r,function(e,t,n){o.equal(e.code,"ETIMEDOUT"),s()});var i={url:a.url+"/timeout",timeout:100.76};u(i,function(e,t,n){o.equal(e.code,"ETIMEDOUT"),s()})})}})