montageDefine("b2954cf","compile-binder",{dependencies:["./compile-observer","./observers","./binders","./algebra"],factory:function(e,t,n){function r(e){return r.semantics.compile(e)}var i=e("./compile-observer");e("./observers");var a=e("./binders"),o=e("./algebra"),s={type:"value"},l={type:"literal",value:!0};n.exports=r,r.semantics={compilers:{property:a.makePropertyBinder,get:a.makeGetBinder,has:a.makeHasBinder,only:a.makeOnlyBinder,one:a.makeOneBinder,rangeContent:a.makeRangeContentBinder,mapContent:a.makeMapContentBinder,reversed:a.makeReversedBinder,and:a.makeAndBinder,or:a.makeOrBinder},compile:function(e){var t=this.compilers;if("default"===e.type)return this.compile(e.args[0]);if("literal"===e.type){if(null==e.value)return Function.noop;throw Error("Can't bind to literal: "+e.value)}if("equals"===e.type){var n=this.compile(e.args[0]),r=i(e.args[1]);return a.makeEqualityBinder(n,r)}if("if"===e.type){var u=i(e.args[0]),c=this.compile(e.args[1]),h=this.compile(e.args[2]);return a.makeConditionalBinder(u,c,h)}if("and"===e.type||"or"===e.type){var d=o(e.args[0],s),p=o(e.args[1],s),n=this.compile(d[0]),f=this.compile(p[0]),m=i(d[1]),v=i(p[1]),g=i(e.args[0]),r=i(e.args[1]);return this.compilers[e.type](n,f,g,r,m,v)}if("everyBlock"===e.type){var b=i(e.args[0]),_=o(e.args[1],l),y=this.compile(_[0]),w=i(_[1]);return a.makeEveryBlockBinder(b,y,w)}if("rangeContent"===e.type){var E,S=i(e.args[0]);try{E=this.compile(e.args[0])}catch(C){E=Function.noop}return a.makeRangeContentBinder(S,E)}if("defined"===e.type){var E=this.compile(e.args[0]);return a.makeDefinedBinder(E)}if("parent"===e.type){var E=this.compile(e.args[0]);return a.makeParentBinder(E)}if("with"===e.type){var S=i(e.args[0]),E=this.compile(e.args[1]);return a.makeWithBinder(S,E)}if(t.hasOwnProperty(e.type)){var P=e.args.map(i,i.semantics);return t[e.type].apply(null,P)}throw Error("Can't compile binder for "+JSON.stringify(e.type))}}}});