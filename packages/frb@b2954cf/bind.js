function bind(e,t,n){n.target=e,n.targetPath=t;var r=n.source=n.source||e,i=n["<-"]||n["<->"]||"",a=n.twoWay="<->"in n;n.sourcePath=i,n.value;var o=n.parameters=n.parameters||r,s=n.document,l=n.components,u=n.trace,c=n.sourceScope=new Scope(r);c.parameters=o,c.document=s,c.components=l;var h=n.targetScope=new Scope(e);if(h.parameters=o,h.document=s,h.components=l,n.converter){var d=n.converter;d.convert&&(n.convert=d.convert.bind(d)),d.revert&&(n.revert=d.revert.bind(d))}else if(n.reverter){var p=n.reverter;p.convert&&(n.revert=p.convert.bind(p)),p.revert&&(n.convert=p.revert.bind(p))}var f=n.convert,m=n.revert,v=n.sourceSyntax=parse(i),g=n.targetSyntax=parse(t);u&&console.log("DEFINE BINDING",t,"<-",i,e);var b=bindOneWay(h,g,c,v,f,n,u),_=noop;return a&&(u&&console.log("DEFINE BINDING",t,"->",i,r),_=bindOneWay(c,v,h,g,m,n,u)),function(){b(),_()}}function bindOneWay(e,t,n,r,i,a,o){var s=solve(t,r);t=s[0],r=s[1];var l=compileObserver(r);i&&(l=Observers.makeConverterObserver(l,i,n));var u=compileBinder(t);return u(l,n,e,a,o?{sourcePath:stringify(r),targetPath:stringify(t)}:null)}function noop(){}var parse=require("./parse"),solve=require("./algebra"),stringify=require("./stringify"),compileObserver=require("./compile-observer"),compileBinder=require("./compile-binder"),Observers=require("./observers"),Scope=require("./scope");module.exports=bind;