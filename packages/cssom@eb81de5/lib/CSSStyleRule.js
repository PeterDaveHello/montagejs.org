var CSSOM={CSSStyleDeclaration:require("./CSSStyleDeclaration").CSSStyleDeclaration,CSSRule:require("./CSSRule").CSSRule};CSSOM.CSSStyleRule=function(){CSSOM.CSSRule.call(this),this.selectorText="",this.style=new CSSOM.CSSStyleDeclaration,this.style.parentRule=this},CSSOM.CSSStyleRule.prototype=new CSSOM.CSSRule,CSSOM.CSSStyleRule.prototype.constructor=CSSOM.CSSStyleRule,CSSOM.CSSStyleRule.prototype.type=1,CSSOM.CSSStyleRule.prototype.__defineGetter__("cssText",function(){var e;return this.selectorText?e=this.selectorText+" {"+this.style.cssText+"}":e="",e}),CSSOM.CSSStyleRule.prototype.__defineSetter__("cssText",function(e){var t=CSSOM.CSSStyleRule.parse(e);this.style=t.style,this.selectorText=t.selectorText}),CSSOM.CSSStyleRule.parse=function(e){var t=0,n="selector",r,i=t,s="",o={selector:!0,value:!0},u=new CSSOM.CSSStyleRule,a,f,l,c="";for(var h;h=e.charAt(t);t++)switch(h){case" ":case"	":case"\r":case"\n":case"\f":if(o[n])switch(e.charAt(t-1)){case" ":case"	":case"\r":case"\n":case"\f":break;default:s+=" "}break;case'"':i=t+1,r=e.indexOf('"',i)+1;if(!r)throw'" is missing';s+=e.slice(t,r),t=r-1;break;case"'":i=t+1,r=e.indexOf("'",i)+1;if(!r)throw"' is missing";s+=e.slice(t,r),t=r-1;break;case"/":if(e.charAt(t+1)==="*"){t+=2,r=e.indexOf("*/",t);if(r===-1)throw new SyntaxError("Missing */");t=r+1}else s+=h;break;case"{":n==="selector"&&(u.selectorText=s.trim(),s="",n="name");break;case":":n==="name"?(f=s.trim(),s="",n="value"):s+=h;break;case"!":n==="value"&&e.indexOf("!important",t)===t?(c="important",t+="important".length):s+=h;break;case";":n==="value"?(u.style.setProperty(f,s.trim(),c),c="",s="",n="name"):s+=h;break;case"}":if(n==="value")u.style.setProperty(f,s.trim(),c),c="",s="";else{if(n==="name")break;s+=h}n="selector";break;default:s+=h}return u},exports.CSSStyleRule=CSSOM.CSSStyleRule