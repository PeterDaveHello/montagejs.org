<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    
    <title>Extending components - Montage Docs</title>
    
    <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:400,700'>
    <link rel="stylesheet" href="../stylesheets/normalize.css">
    <link rel="stylesheet" href="../stylesheets/base.css">
    <link rel="stylesheet" href="../stylesheets/pages.css">
        
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->    
</head>
<body>
  
    <header class="header header-pages pushed">
        <div class="header-container">
            <a href="/"><img class="logo" src="../images/logo-pages.png" alt="Montage"></a>
            <nav class="nav">
                <a class="nav-item" href="/apps">Apps</a>
                <a class="nav-item active" href="/docs">Docs</a>
            </nav>
        </div>
    </header>
    
    <section id="docs" class="docs">
        <article>
            <div class="markdown-body">

<h1>Extending components<a class="anchor" id="Extending-components" href="#Extending-components"></a>
</h1>

<p>Extending a component is similar to extending a JavaScript object: you create a new object and make its prototype the object you want to extend. The main difference is that you may also need to extend the component’s HTML template, when one is present.</p>

<p>The process of extending a component is the same as creating an entirely new component using the original one as its prototype. If the customization doesn’t require a change in the component’s controller (its JavaScript object) then it is sufficient to create an instance of the extended object. If the component being extended has an HTML template, the developer must either point to the template of the extended component, or create a new template.</p>

<p>There are three options to extend a component’s template:</p>

<ol>
<li>If the extended component doesn’t wish to introduce changes in the template, the component can set its <code>templateModuleId</code> property to point to the parent module’s template.</li>
<li>Create a new template that will completely redefine the markup of the component with no relation to the original template.</li>
<li>Set the <code>extends</code> property of the template that points to the template to be imported and where. This is similar to the “decorator” pattern of the proposed <a href="http://dvcs.w3.org/hg/webcomponents/raw-file/tip/explainer/index.html#decorator-section">Web Components</a> feature. This approach is useful when the component needs to add additional CSS data, or reuse the original markup. The template object will be accessible through the <code>template</code> label of the serialization.</li>
</ol><h2>Examples<a class="anchor" id="Examples" href="#Examples"></a>
</h2>

<h3>Extending the Toggle component only changing its markup<a class="anchor" id="Extending-the-Toggle-component-only-changing-its-markup" href="#Extending-the-Toggle-component-only-changing-its-markup"></a>
</h3>

<p></p><div class="highlight"><pre><span class="c1">//my-toggle.js</span>
<span class="kd">var</span> <span class="nx">Montage</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"montage"</span><span class="p">).</span><span class="nx">Montage</span><span class="p">,</span>
    <span class="nx">Toggle</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"ui/toggle"</span><span class="p">).</span><span class="nx">Toggle</span><span class="p">;</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">MyToggle</span> <span class="o">=</span> <span class="nx">Montage</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Toggle</span><span class="p">);</span>
</pre></div>

<p></p><div class="highlight"><pre>// my-toggle.html
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href=</span><span class="s">"my-toggle.css"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/montage-serialization"</span><span class="nt">&gt;</span>
    <span class="p">{</span>
        <span class="s2">"owner"</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">"prototype"</span><span class="o">:</span> <span class="s2">"my-toggle.reel"</span><span class="p">,</span>
            <span class="s2">"properties"</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">"element"</span><span class="o">:</span> <span class="p">{</span><span class="s2">"#"</span><span class="o">:</span> <span class="s2">"my-toggle"</span><span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"my-toggle"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"thumb"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>

<h3>Extending the Toggle component by only changing some of its logic<a class="anchor" id="Extending-the-Toggle-component-by-only-changing-some-of-its-logic" href="#Extending-the-Toggle-component-by-only-changing-some-of-its-logic"></a>
</h3>

<p></p><div class="highlight"><pre><span class="c1">//my-toggle.js</span>
<span class="kd">var</span> <span class="nx">Montage</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"montage"</span><span class="p">).</span><span class="nx">Montage</span><span class="p">,</span>
    <span class="nx">Toggle</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"montage/ui/toggle.reel"</span><span class="p">).</span><span class="nx">Toggle</span><span class="p">;</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">MyToggle</span> <span class="o">=</span> <span class="nx">Montage</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Toggle</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">draw</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">value</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// my different draw implementation</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">templateModuleId</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">value</span><span class="o">:</span> <span class="s2">"montage/ui/toggle.reel/toggle.html"</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h3>Extending the Toggle component by adding styling elements<a class="anchor" id="Extending-the-Toggle-component-by-adding-styling-elements" href="#Extending-the-Toggle-component-by-adding-styling-elements"></a>
</h3>

<p></p><div class="highlight"><pre><span class="c1">//my-toggle.js</span>
<span class="kd">var</span> <span class="nx">Montage</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"montage"</span><span class="p">).</span><span class="nx">Montage</span><span class="p">,</span>
    <span class="nx">Toggle</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"montage/ui/toggle.reel"</span><span class="p">).</span><span class="nx">Toggle</span><span class="p">;</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">MyToggle</span> <span class="o">=</span> <span class="nx">Montage</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Toggle</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">draw</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">value</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// my different draw implementation</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p></p><div class="highlight"><pre>//my-toggle.html
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href=</span><span class="s">"my-toggle.css"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/montage-serialization"</span><span class="nt">&gt;</span>
    <span class="p">{</span>   
        <span class="s2">"owner"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"prototype"</span><span class="o">:</span> <span class="s2">"my-toggle.reel"</span><span class="p">,</span>
            <span class="s2">"properties"</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">"element"</span><span class="o">:</span> <span class="p">{</span><span class="s2">"#"</span><span class="o">:</span> <span class="s2">"my-toggle"</span><span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>

        <span class="s2">"template"</span><span class="o">:</span> <span class="p">{</span>
           <span class="s2">"properties"</span><span class="o">:</span> <span class="p">{</span>
               <span class="s2">"extends"</span><span class="o">:</span> <span class="p">{</span>
                   <span class="s2">"templateModuleId"</span><span class="o">:</span> <span class="s2">"montage/ui/toggle.reel/toggle.html"</span><span class="p">,</span>
                   <span class="s2">"element"</span><span class="o">:</span> <span class="p">{</span><span class="s2">"#"</span><span class="o">:</span> <span class="s2">"toggle"</span><span class="p">},</span>
               <span class="s2">"instances"</span><span class="o">:</span> <span class="p">{</span>
                  <span class="s2">"owner"</span><span class="o">:</span> <span class="p">{</span><span class="s2">"@"</span><span class="o">:</span> <span class="s2">" owner"</span><span class="p">}</span>
                   <span class="p">}</span>
               <span class="p">}</span>
           <span class="p">}</span>
       <span class="p">}</span>
    <span class="p">}</span>
    <span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"my-toggle"</span><span class="nt">&gt;</span> ← (merge attributes from toggle.html)
       <span class="nt">&lt;h1&gt;</span>My Toggle<span class="nt">&lt;/h1&gt;</span>
       <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"toggle"</span><span class="nt">&gt;&lt;/div&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>

                </div>
        </article>
    </section>

    <section id="next" class="next">
        <article>
            <h3 class="title">More help?</h3>
            <div class="cols">
                <div class="col col-1-2">
                    <p>Can't find what you are looking for? Get in touch, we're more than happy in helping answer your questions.
                    </p>
                </div>
                <aside class="col col-1-2">
                    <p><strong>Have feedback or ideas?</strong> Let us know by creating a new <a href="https://github.com/montagejs/montage/issues" target="_blank">issue</a>, join us in <a href="http://webchat.freenode.net/?channels=montage" target="_blank">IRC</a> or post questions to our <a href="https://groups.google.com/forum/?fromgroups#!forum/montagejs" target="_blank">Google Group</a>. We're also on <a href="https://twitter.com/montage_js" target="_blank">Twitter</a> and <a href="https://plus.google.com/116915300739108010954/" target="_blank">Google+</a>.
                    </p>
                </aside>
            </div>
        </article>
    </section>

    
    <section id="social" class="social">
        <article>
            
            <div class="button-group github">
                <iframe src="http://ghbtns.com/github-btn.html?user=montagejs&repo=montage&type=watch&count=true"
                  allowtransparency="true" frameborder="0" scrolling="0" width="90px" height="20px"></iframe>
                <iframe src="http://ghbtns.com/github-btn.html?user=montagejs&repo=montage&type=fork&count=true"
                  allowtransparency="true" frameborder="0" scrolling="0" width="90px" height="20px"></iframe>
            </div>
            
            
            <div class="button-group twitter">
                <a href="https://twitter.com/share" class="twitter-share-button" data-via="montage_js" data-count="none">Tweet</a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                <a href="https://twitter.com/montage_js" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @montage_js</a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
            </div>
            
            <div class="button-group g-plus">
                <!-- Place this tag in your head or just before your close body tag. -->
                <script type="text/javascript" src="https://apis.google.com/js/plusone.js">
                  {parsetags: 'explicit'}
                </script>
                <!-- Place this tag where you want the +1 button to render. -->
                <div class="g-plusone" data-size="medium" data-annotation="inline" data-width="200"></div>
                <!-- Place this render call where appropriate. -->
                <script type="text/javascript">gapi.plusone.go();</script>
            </div>
            
        </article>
    </section>
        
    
    <footer class="footer">
        2012 montagejs.org - <a href="https://github.com/montagejs/montagejs.org">Contributions</a> to this page are welcomed.
    </footer>
        
    
    <!-- Google -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-35717912-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    
</body>
</html>
