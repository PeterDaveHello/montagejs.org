<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    
    <title>Spec: Component Customization - Montage Docs</title>
    
    <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:400,700'>
    <link rel="stylesheet" href="../stylesheets/normalize.css">
    <link rel="stylesheet" href="../stylesheets/base.css">
    <link rel="stylesheet" href="../stylesheets/pages.css">
        
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->    
</head>
<body>
  
    <header class="header header-pages pushed">
        <div class="header-container">
            <a href="/"><img class="logo" src="../images/logo-pages.png" alt="Montage"></a>
            <nav class="nav">
                <a class="nav-item" href="/apps">Apps</a>
                <a class="nav-item active" href="/docs">Docs</a>
            </nav>
        </div>
    </header>
    
    <section id="docs" class="docs">
        <article>
            <div class="markdown-body">

<p>Component Customization Editors António Afonso
        Kris Kowal</p>

<p>Index
Introduction
Functional Description
API
Modification
Conditional Configuration
Application Algorithm
Criterion Algorithm
Examples

Introduction</p>

<p>A fundamental part of component design is the ability to customize and extend the component in a way that doesn’t compromise its original design.</p>

<p>The customization of a component can target different dimensions — color scheme, UX changes, region restrictions, specialization, etc. — however, they can be seen as a ui or controller extension of the component.</p>

<p>This specification describes how a developer can extend his own, or 3rd party components, to achieve the desired customization.
Functional Description</p>

<p>Any customization made on a component should be the result of extending the component and adding the necessary changes.</p>

<p>The process of extending a component is detailed in the spec “Component Extending”.
The new component needs to have the same name of the component being extended. We use the same name as a convention to know which components a specific package overrides without having to declare them in a configuration file.</p>

<p>Components customizations should be bundled in a specific package for that purpose. If this customization package is a dependency of any package in the application, it will find and apply its customizations to the package it is intended to modify.</p>

<p>A theme, for instance, can be implemented as a package that extends a set of components in a way that modifies the color scheme of the components.
API</p>

<p>A theme is a package that is configured as being a modification of another package. This configuration is achieved by using the following properties on package.json:
Modification</p>

<p>modifies: "" | {"location": "" | "name": ""}</p>

<p>Identifies this package as a file overlay on another package, using a mapping-style dependency.  It can be either a string or an object.  If it is a string, it is equivalent to {"location": string}.  If it is an object it can have either location or name properties.  If it is a location, it must be a path relative to package.json to the other package directory, with or without a final slash.  If it is a name, the location is inferred from a package with the same name.
The name is potentially ambiguous, but generally the global namespace for package is managed by NPM.</p>

<p>Modification creates a new package that replaces the original.  The new package.json is created by applying the modifier package.json to the original using the application algorithm.
Conditional Configuration</p>

<p>if: {"": {"path": "", "manifest": ["", ...]}}</p>

<p>The “if” object contains an ordered mapping from criteria to a modifier to the root of package.json.  For each criterion, in order, the modifier is applied using the application algorithm described below if the criterion is satisfied using the criterion algorithm.  Criteria can be a diverse set of conditions.
Application Algorithm</p>

<p>[Kris Kowal will write this bit]
Criterion Algorithm</p>

<p>[Kris Kowal will write this bit]
Examples</p>

<p>{
    "modifies": {"name": "montage"},
    "manifest": [
        "ui/slider.reel",
        "ui/toggle.reel"
    ]
}</p>

<p>{
    "modifies": {"name": "montage"},
    "if": {
        "platform:android": {
            "path": "android/",
            "manifest": [
                "ui/slider.reel",
                "ui/toggle.reel"
            ]
        }
    }
}</p>

                </div>
        </article>
    </section>

    <section id="next" class="next">
        <article>
            <h3 class="title">More help?</h3>
            <div class="cols">
                <div class="col col-1-2">
                    <p>Can't find what you are looking for? Get in touch, we're more than happy in helping answer your questions.
                    </p>
                </div>
                <aside class="col col-1-2">
                    <p><strong>Have feedback or ideas?</strong> Let us know by creating a new <a href="https://github.com/montagejs/montage/issues" target="_blank">issue</a>, join us in <a href="http://webchat.freenode.net/?channels=montage" target="_blank">IRC</a> or post questions to our <a href="https://groups.google.com/forum/?fromgroups#!forum/montagejs" target="_blank">Google Group</a>. We're also on <a href="https://twitter.com/montage_js" target="_blank">Twitter</a> and <a href="https://plus.google.com/116915300739108010954/" target="_blank">Google+</a>.
                    </p>
                </aside>
            </div>
        </article>
    </section>

    
    <section id="social" class="social">
        <article>
            
            <div class="button-group github">
                <iframe src="http://ghbtns.com/github-btn.html?user=montagejs&repo=montage&type=watch&count=true"
                  allowtransparency="true" frameborder="0" scrolling="0" width="90px" height="20px"></iframe>
                <iframe src="http://ghbtns.com/github-btn.html?user=montagejs&repo=montage&type=fork&count=true"
                  allowtransparency="true" frameborder="0" scrolling="0" width="90px" height="20px"></iframe>
            </div>
            
            
            <div class="button-group twitter">
                <a href="https://twitter.com/share" class="twitter-share-button" data-via="montage_js" data-count="none">Tweet</a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                <a href="https://twitter.com/montage_js" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @montage_js</a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
            </div>
            
            <div class="button-group g-plus">
                <!-- Place this tag in your head or just before your close body tag. -->
                <script type="text/javascript" src="https://apis.google.com/js/plusone.js">
                  {parsetags: 'explicit'}
                </script>
                <!-- Place this tag where you want the +1 button to render. -->
                <div class="g-plusone" data-size="medium" data-annotation="inline" data-width="200"></div>
                <!-- Place this render call where appropriate. -->
                <script type="text/javascript">gapi.plusone.go();</script>
            </div>
            
        </article>
    </section>
        
    
    <footer class="footer">
        2012 montagejs.org - <a href="https://github.com/montagejs/montagejs.org">Contributions</a> to this page are welcomed.
    </footer>
        
    
    <!-- Google -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-35717912-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    
</body>
</html>
