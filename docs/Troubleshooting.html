<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    
    <title>Troubleshooting - Montage Docs</title>
    
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,700" />
    <link rel="stylesheet" href="../stylesheets/normalize.css" />
    <link rel="stylesheet" href="../stylesheets/base.css" />
    <link rel="stylesheet" href="../stylesheets/pages.css" />
    <link rel="stylesheet" href="../stylesheets/solarized.css" />
        
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->    
</head>
<body class="docs">
  
    <header class="header header-pages pushed">
        <div class="header-container">
            <a href="/"><img class="logo" src="../images/logo-pages.png" alt="Montage" /></a>
            <nav class="nav">
                <a class="nav-item" href="/apps">Apps</a>
                <a class="nav-item active" href="/docs">Docs</a>
            </nav>
        </div>
    </header>
    
    <section id="docs">
        <article>
            <div class="markdown-body">

<h1>Troubleshooting<a class="anchor" id="Troubleshooting" href="#Troubleshooting"></a>
</h1>

<p>If your Montage application isn’t working as expected, you can use the JavaScript console available in modern web browsers to help diagnose the problem.</p>

<h2>JavaScript console<a class="anchor" id="JavaScript-console" href="#JavaScript-console"></a>
</h2>

<p>If you test a Montage application in the browser and don’t see what you expect, open the JavaScript console to look any for errors or warnings. Most modern web browsers include a JavaScript debugger, console, and related tools that can help debug problems with Montage applications. These tools are built-in to the latest versions of Chrome and Safari. You use the browser’s <code>console.log()</code> method to send output to the console.</p>

<ul>
<li>To open the console in Chrome, select View &gt; Developer &gt; JavaScript console.</li>
<li>To open the console in Safari, first enable the Develop menu (Safari Preferences &gt; Advanced &gt; Show Develop menu in menu bar), then select Develop &gt; Show Error Console.</li>
</ul><h2>Serialization errors<a class="anchor" id="Serialization-errors" href="#Serialization-errors"></a>
</h2>

<p>One class of error you may encounter are those that occur during the deserialization process. During this process Montage parses the serialization block and attempts to resolve references to serialized objects and components, as well as to HTML elements in the HTML document.</p>

<h3>Invalid element reference<a class="anchor" id="Invalid-element-reference" href="#Invalid-element-reference"></a>
</h3>

<p>In the following abbreviated code, the ID of the </p><div> element referenced in the serialization (<code>"loginButton"</code>) does not match the element’s actual ID (<code>"loginBtn"</code>).

<p></p>
<div class="highlight"><pre><span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">"text/montage-serialization"</span><span class="nt">&gt;</span>
{
    "loginButton": {
        "name": "Button",
        "module": "montage/ui/button.reel",
        "properties": {
            "element": {"#": "loginButton"}
        }
    }
}
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;body&gt;</span>
   <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"loginBtn"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</pre></div>

<p>At runtime, this would generate the following error message in the JavaScript console:
</p>
<div class="highlight"><pre><span class="n">Warning</span><span class="o">:</span> <span class="n">Element</span> <span class="s2">"#loginButton"</span> <span class="n">not</span> <span class="n">found</span> <span class="k">in</span> <span class="n">template</span>
<span class="n">http</span><span class="o">://</span><span class="n">localhost</span><span class="o">:</span><span class="mi">8081</span><span class="sr">/examples/myapp/mycomponent.reel/</span><span class="n">mycomponent</span><span class="o">.</span><span class="na">html</span>
</pre></div>

<h3>Invalid module ID or symbol name<a class="anchor" id="Invalid-module-ID-or-symbol-name" href="#Invalid-module-ID-or-symbol-name"></a>
</h3>

<p>If you provide an invalid value for a serialized object’s “name” property, Montage will generate an error. For example, the following serialization will generate this error, since the symbol name is misspelled “Buttonn” instead of “Button”.
</p>
<div class="highlight"><pre><span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">"text/montage-serialization"</span><span class="nt">&gt;</span>
{
    "loginButton": {
        "name": "Buttonn",
        "module": "montage/ui/button.reel",
        "properties": {
            "element": {"#": "loginButton"}
        }
    }
}
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p>This would result in the following runtime error:
</p>
<div class="highlight"><pre><span class="n">Object</span> “<span class="n">Buttonn</span>” <span class="n">not</span> <span class="n">found</span> <span class="n">at</span> “<span class="n">montage</span><span class="o">/</span><span class="n">ui</span><span class="o">/</span><span class="n">button</span><span class="p">.</span><span class="n">reel</span>” <span class="n">referenced</span> <span class="n">from</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8081</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">buttonerror</span><span class="o">/</span><span class="p">.</span>
</pre></div>

<p>If you provide an invalid module ID in a serialization, then the console will report a 404 error “Can’t XHR _module-id_“. For example, consider the following serialization that defines a Textfield component but the module ID is misspelled as “montage/ui/textfld.reel”.
</p>
<div class="highlight"><pre><span class="p">{</span>
"<span class="n">emailInput</span>"<span class="p">:</span> <span class="p">{</span>
    "<span class="n">name</span>"<span class="p">:</span> "<span class="n">Textfield</span>"<span class="p">,</span>
    "<span class="n">module</span>"<span class="p">:</span> "<span class="n">montage</span><span class="o">/</span><span class="n">ui</span><span class="o">/</span><span class="n">textfld</span><span class="p">.</span><span class="n">reel</span>"<span class="p">,</span>
    "<span class="k">properties</span>"<span class="p">:</span> <span class="p">{</span>
        "<span class="n">element</span>"<span class="p">:</span> <span class="p">{</span>"#"<span class="p">:</span> "<span class="n">email</span>"<span class="p">}</span>
    <span class="p">}</span>
<span class="p">},</span>
</pre></div>

<p>In Chrome, this results in the following error:
</p>
<div class="highlight"><pre><span class="n">GET</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8081</span><span class="o">/</span><span class="n">ui</span><span class="o">/</span><span class="n">textfeld</span><span class="p">.</span><span class="n">reel</span><span class="o">/</span><span class="n">textfld</span><span class="p">.</span><span class="n">js</span> <span class="mi">404</span> <span class="p">(</span><span class="n">Not</span> <span class="n">Found</span><span class="p">)</span> <span class="n">browser</span><span class="p">.</span><span class="n">js</span><span class="p">:</span><span class="mi">136</span>
<span class="n">Can</span>’<span class="n">t</span> <span class="n">XHR</span> “<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8081</span><span class="o">/</span><span class="n">ui</span><span class="o">/</span><span class="n">textfeld</span><span class="p">.</span><span class="n">reel</span><span class="o">/</span><span class="n">textfeld</span><span class="p">.</span><span class="n">js</span>”
</pre></div>

<h2>JSON formatting errors<a class="anchor" id="JSON-formatting-errors" href="#JSON-formatting-errors"></a>
</h2>

<p>The JSON serialization block must be well-formed for Montage to successfully parse it. Montage uses JSLint to At runtime, any JSON formatting errors are reported in the JavaScript console.</p>

<h3>Serial commas<a class="anchor" id="Serial-commas" href="#Serial-commas"></a>
</h3>

<p>A common JSON formatting problem are “serial” commas. In valid JSON, commas are used to separate name/value pairs; a comma that follows the last (or serial) name/value pair of an object invalidates the JSON. For example, in the JSON snippet below the comma after the last name/value pair is invalid and would generate a JSON parsing errors.</p>

<p></p>
<div class="highlight"><pre><span class="p">{</span>
   "<span class="n">name</span>"<span class="p">:</span> "<span class="n">Tim</span>"<span class="p">,</span>
   "<span class="n">name</span>"<span class="p">:</span> "<span class="n">Jen</span>"<span class="p">,</span>
   "<span class="n">name</span>"<span class="p">:</span> "<span class="n">Frank</span>"<span class="p">,</span>
<span class="p">}</span>
</pre></div>

<p>As another example, in the Montage serialization block below notice the comma after the “passwordInput” JSON object. At runtime, this would generate an “Unexpected comma” error as the object is the last one in the serialization.</p>

<p></p>
<div class="highlight"><pre><span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">"text/montage-serialization"</span><span class="nt">&gt;</span>
{
    "emailInput": {
        "name": "Textfield",
        "module": "montage/ui/textfield.reel",
        "properties": {
            "element": {"#": "email"}
        }
    },
    "passwordInput": {
        "name": "Textfield",
        "module": "montage/ui/textfield.reel",
        "properties": {
            "element": {"#": "password"}
        }
    },
}
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p></p>
<div class="highlight"><pre><span class="n">Syntax</span> <span class="n">error</span> <span class="n">at</span> <span class="n">line</span> <span class="mi">16</span> <span class="n">from</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8081</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">errors</span><span class="o">/</span><span class="p">:</span>
    <span class="p">},</span>
<span class="n">Unexpected</span> <span class="n">comma</span><span class="p">.</span>
    <span class="mi">1</span> 
    <span class="mi">2</span> <span class="p">{</span>
    <span class="mi">3</span>     "<span class="n">emailInput</span>"<span class="p">:</span> <span class="p">{</span>
    <span class="mi">4</span>         "<span class="n">name</span>"<span class="p">:</span> "<span class="n">Textfield</span>"<span class="p">,</span>
    <span class="mi">5</span>         "<span class="n">module</span>"<span class="p">:</span> "<span class="n">montage</span><span class="o">/</span><span class="n">ui</span><span class="o">/</span><span class="n">textfield</span><span class="p">.</span><span class="n">reel</span>"<span class="p">,</span>
    <span class="mi">6</span>         "<span class="k">properties</span>"<span class="p">:</span> <span class="p">{</span>
    <span class="mi">7</span>             "<span class="n">element</span>"<span class="p">:</span> <span class="p">{</span>"#"<span class="p">:</span> "<span class="n">email</span>"<span class="p">}</span>
    <span class="mi">8</span>         <span class="p">}</span>
    <span class="mi">9</span>     <span class="p">},</span>
   <span class="mi">10</span>     "<span class="n">passwordInput</span>"<span class="p">:</span> <span class="p">{</span>
   <span class="mi">11</span>         "<span class="n">name</span>"<span class="p">:</span> "<span class="n">Textfield</span>"<span class="p">,</span>
   <span class="mi">12</span>         "<span class="n">module</span>"<span class="p">:</span> "<span class="n">montage</span><span class="o">/</span><span class="n">ui</span><span class="o">/</span><span class="n">textfield</span><span class="p">.</span><span class="n">reel</span>"<span class="p">,</span>
   <span class="mi">13</span>         "<span class="k">properties</span>"<span class="p">:</span> <span class="p">{</span>
   <span class="mi">14</span>             "<span class="n">element</span>"<span class="p">:</span> <span class="p">{</span>"#"<span class="p">:</span> "<span class="n">password</span>"<span class="p">}</span>
   <span class="mi">15</span>         <span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span><span class="mi">16</span>     <span class="p">},</span>
   <span class="mi">17</span> <span class="p">}</span>
   <span class="mi">18</span>
</pre></div>

<p>Removing the trailing comma on line 16 fixes the error.</p>
</div>

                </div>
        </article>
    </section>

    <section id="next" class="next">
        <article>
            <h3 class="title">More help?</h3>
            <div class="cols">
                <div class="col col-1-2">
                    <p>Can't find what you are looking for? Get in touch, we're more than happy in helping answer your questions.
                    </p>
                </div>
                <aside class="col col-1-2">
                    <p><strong>Have feedback or ideas?</strong> Let us know by creating a new <a href="https://github.com/montagejs/montage/issues" target="_blank">issue</a>, join us in <a href="http://webchat.freenode.net/?channels=montage" target="_blank">IRC</a> or post questions to our <a href="https://groups.google.com/forum/?fromgroups#!forum/montagejs" target="_blank">Google Group</a>. We're also on <a href="https://twitter.com/montage_js" target="_blank">Twitter</a> and <a href="https://plus.google.com/116915300739108010954/" target="_blank">Google+</a>.
                    </p>
                </aside>
            </div>
        </article>
    </section>

    
    <section id="social" class="social">
        <article>
            
            <div class="button-group github">
                <iframe src="http://ghbtns.com/github-btn.html?user=montagejs&amp;repo=montage&amp;type=watch&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="90px" height="20px"></iframe>
                <iframe src="http://ghbtns.com/github-btn.html?user=montagejs&amp;repo=montage&amp;type=fork&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="90px" height="20px"></iframe>
            </div>
            
            
            <div class="button-group twitter">
                <a href="https://twitter.com/share" class="twitter-share-button" data-via="montage_js" data-count="none">Tweet</a>
                <script>!function(e,t,n){var r,i=e.getElementsByTagName(t)[0];e.getElementById(n)||(r=e.createElement(t),r.id=n,r.src="//platform.twitter.com/widgets.js",i.parentNode.insertBefore(r,i))}(document,"script","twitter-wjs")</script>
                <a href="https://twitter.com/montage_js" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @montage_js</a>
                <script>!function(e,t,n){var r,i=e.getElementsByTagName(t)[0];e.getElementById(n)||(r=e.createElement(t),r.id=n,r.src="//platform.twitter.com/widgets.js",i.parentNode.insertBefore(r,i))}(document,"script","twitter-wjs")</script>
            </div>
            
            <div class="button-group g-plus">
                
                <script src="https://apis.google.com/js/plusone.js">"explicit"</script>
                
                <div class="g-plusone" data-size="medium" data-annotation="inline" data-width="200"></div>
                
                <script>gapi.plusone.go()</script>
            </div>
            
        </article>
    </section>
        
    
    <footer class="footer">
        2012 montagejs.org - <a href="https://github.com/montagejs/montagejs.org">Contributions</a> to this page are welcomed.
    </footer>
        
    
    
    <script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-35717912-1"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
    
</body>
</html>