<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>JSDoc: Localizer</title>

    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,700" />
    <link rel="stylesheet" href="stylesheets/normalize.css" />
    <link rel="stylesheet" href="stylesheets/base.css" />
    <link rel="stylesheet" href="stylesheets/pages.css" />
    <link rel="stylesheet" href="stylesheets/solarized.css" />

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <script src="scripts/search.js"> </script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css" />
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css" />
</head>

<body class="docs">

    <header class="header header-pages pushed">
        <div class="header-container">
            <a href="/"><img class="logo" src="images/logo-pages.png" alt="Montage" /></a>
            <nav class="nav">
                <a class="nav-item" href="http://montagejs.org/apps">Apps</a>
                <a class="nav-item" href="http://montagejs.org/docs">Docs</a>
                <a class="nav-item active" href="http://montagejs.org/apis">APIs</a>
            </nav>
        </div>
    </header>

    

    <section id="docs">




<header>
    <h2>
    Localizer
    </h2>

</header>

<article>

        <dl>
            <dt>Extends</dt>
            <dd><a href="Montage.html">Montage</a> </dd>
        </dl>

    <div class="container-overview">




<dt>
    <h4 class="name" id="Localizer"></h4>


</dt>
<dd>










<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 39
    </li></ul></dd>







</dl>









</dd>


    </div>










        <h3 class="subsection-title">Properties</h3>

        <dl>

<dt>
    <h4 class="name" id="availableLocales"><span class="type-signature"></span>availableLocales<span class="type-signature"> :Promise</span></h4>


</dt>
<dd>

    <div class="description">
        <p>A promise for the locales available in this package. Resolves to an
        array of strings, each containing a locale tag.</p>

    </div>



<dl class="details">

















    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy"><li>null</li></ul></dd>



    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 155
    </li></ul></dd>







</dl>



</dd>




<dt>
    <h4 class="name" id="locale"><span class="type-signature"></span>locale<span class="type-signature"> :String</span></h4>


</dt>
<dd>

    <div class="description">
        <p>A RFC-5646 language-tag specifying the locale of this localizer.
        Setting the locale will create a new <a href="MessageFormat.html">MessageFormat</a> object
        with the new locale.</p>

    </div>



<dl class="details">

















    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy"><li>null</li></ul></dd>



    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 130
    </li></ul></dd>







</dl>



</dd>




<dt>
    <h4 class="name" id="messageFormat"><span class="type-signature"></span>messageFormat<span class="type-signature"> :<a href="MessageFormat.html">MessageFormat</a></span></h4>


</dt>
<dd>

    <div class="description">
        <p>The MessageFormat object to use.</p>

    </div>



<dl class="details">

















    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy"><li>null</li></ul></dd>



    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 80
    </li></ul></dd>







</dl>



</dd>




<dt>
    <h4 class="name" id="messages"><span class="type-signature"></span>messages<span class="type-signature"> :Object</span></h4>


</dt>
<dd>

    <div class="description">
        <p>A map from keys to messages.</p>

    </div>



<dl class="details">

















    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy"><li>null</li></ul></dd>



    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 94
    </li></ul></dd>







</dl>



</dd>




<dt>
    <h4 class="name" id="messagesPromise"><span class="type-signature"></span>messagesPromise<span class="type-signature"> :Promise</span></h4>


</dt>
<dd>

    <div class="description">
        <p>A promise for the messages property</p>

    </div>



<dl class="details">

















    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy"><li>null</li></ul></dd>



    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 114
    </li></ul></dd>







</dl>



</dd>




<dt>
    <h4 class="name" id="require"><span class="type-signature"></span>require<span class="type-signature"> :Function</span></h4>


</dt>
<dd>

    <div class="description">
        <p>The require function to use in loadMessages.
        By default this is set to the global require, meaning that messages
        will be loaded from the root of the application. To load messages
        from the root of your package set this to the require function from
        any class in the package.</p>

    </div>



<dl class="details">

















    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy"><li>global require | null</li></ul></dd>



    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 180
    </li></ul></dd>







</dl>



</dd>


        </dl>



        <h3 class="subsection-title">Methods</h3>

        <dl>

<dt>
    <h4 class="name" id="init"><span class="type-signature"></span>init<span class="signature">(<span class="optional">locale</span>)</span><span class="type-signature"> → {<a href="Localizer.html">Localizer</a>}</span></h4>


</dt>
<dd>


    <div class="description markdown-body">
        <p>Initialize the localizer.</p>

    </div>







        <h5>Parameters:</h5>


<table class="params">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>


		<th>Argument</th>




		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>locale</code></td>


            <td class="type">


<span class="param-type">String</span>



            </td>


                <td class="attributes">

                    &lt;optional&gt;<br />



                </td>




            <td class="description last"><p>The RFC-5646 language tag this localizer should use. Defaults to defaultLocalizer.locale</p>
</td>
        </tr>


	</tbody>
</table>



<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 51
    </li></ul></dd>







</dl>







    <h5>Returns:</h5>


<div class="param-desc">
    <p>The Localizer object it was called on.</p>

</div>



<dl>
	<dt class="return-type-label">
		Type
	</dt>
	<dd class="return-type">

<span class="param-type"><a href="Localizer.html">Localizer</a></span>


	</dd>
</dl>





</dd>



<dt>
    <h4 class="name" id="initWithMessages"><span class="type-signature"></span>initWithMessages<span class="signature">(locale, messages)</span><span class="type-signature"> → {<a href="Localizer.html">Localizer</a>}</span></h4>


</dt>
<dd>


    <div class="description markdown-body">
        <p>Initialize the object</p>

    </div>







        <h5>Parameters:</h5>


<table class="params">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>





		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>locale</code></td>


            <td class="type">


<span class="param-type">String</span>



            </td>





            <td class="description last"><p>The RFC-5646 language tag this localizer should use.</p>
</td>
        </tr>



        <tr>

                <td class="name"><code>messages</code></td>


            <td class="type">


<span class="param-type">Object</span>



            </td>





            <td class="description last"><p>A map from keys to messages. Each message should either be a string or an object with a "message" property.</p>
</td>
        </tr>


	</tbody>
</table>



<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 66
    </li></ul></dd>







</dl>







    <h5>Returns:</h5>


<div class="param-desc">
    <p>The Localizer object it was called on.</p>

</div>



<dl>
	<dt class="return-type-label">
		Type
	</dt>
	<dd class="return-type">

<span class="param-type"><a href="Localizer.html">Localizer</a></span>


	</dd>
</dl>





</dd>



<dt>
    <h4 class="name" id="loadMessages"><span class="type-signature"></span>loadMessages<span class="signature">(<span class="optional">timeout</span>, <span class="optional">callback</span>)</span><span class="type-signature"> → {Promise}</span></h4>


</dt>
<dd>


    <div class="description markdown-body">
        <p>Load messages for the locale</p>

    </div>







        <h5>Parameters:</h5>


<table class="params">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>


		<th>Argument</th>



		<th>Default</th>


		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>timeout</code></td>


            <td class="type">


<span class="param-type">Number</span>
|

<span class="param-type">Boolean</span>



            </td>


                <td class="attributes">

                    &lt;optional&gt;<br />



                </td>



                <td class="default">

                    5000

                </td>


            <td class="description last"><p>Number of milliseconds to wait before failing. Set to false for no timeout.</p>
</td>
        </tr>



        <tr>

                <td class="name"><code>callback</code></td>


            <td class="type">


<span class="param-type">Function</span>



            </td>


                <td class="attributes">

                    &lt;optional&gt;<br />



                </td>



                <td class="default">

                </td>


            <td class="description last"><p>Called on successful loading of messages. Using the returned promise is recomended.</p>
</td>
        </tr>


	</tbody>
</table>



<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 231
    </li></ul></dd>







</dl>







    <h5>Returns:</h5>


<div class="param-desc">
    <p>A promise for the messages.</p>

</div>



<dl>
	<dt class="return-type-label">
		Type
	</dt>
	<dd class="return-type">

<span class="param-type">Promise</span>


	</dd>
</dl>





</dd>



<dt>
    <h4 class="name" id="localize"><span class="type-signature"></span>localize<span class="signature">(key, defaultMessage, <span class="optional">defaultOnFail</span>, <span class="optional">callback</span>)</span><span class="type-signature"> → {Promise}</span></h4>


</dt>
<dd>


    <div class="description markdown-body">
        <p>&lt;p&gt;Async version of localize.&lt;/p&gt;

</p>
<pre><code>    &lt;p&gt;Waits for the localizer to get messages before localizing the key.
    Use either the callback or the promise.&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;</code></pre>
<p>defaultLocalizer.localize("hello_name", "Hello, {name}!").then(function (hi) {
    console.log(hi({name: "World"})); // =&gt; "Hello, World!""
    console.log(hi()); // =&gt; Error: MessageFormat: No data passed to function.
});
        &lt;/code&gt;&lt;/pre&gt;</p>
<pre><code>    &lt;p&gt;If the message for the key is "simple", i.e. it does not contain any
    variables, then the function will implement a custom &lt;code&gt;toString&lt;/code&gt;
    function that also returns the message. This means that you can use
    the function like a string. Example:&lt;/p&gt;
    &lt;pre&gt;&lt;code&gt;</code></pre>
<p>defaultLocalizer.localize("hello", "Hello").then(function (hi) {
    // Concatenating an object to a string calls its toString
    myObject.hello = "" + hi;
    var y = "The greeting '" + hi + "' is used in this locale";
    // textContent only accepts strings and so calls toString
    button.textContent = hi;
    // and use as a function also works.
    var z = hi();
});
        &lt;/code&gt;&lt;/pre&gt;</p>

    </div>







        <h5>Parameters:</h5>


<table class="params">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>


		<th>Argument</th>



		<th>Default</th>


		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>key</code></td>


            <td class="type">


<span class="param-type">String</span>



            </td>


                <td class="attributes">



                </td>



                <td class="default">

                </td>


            <td class="description last"><p>The key to the string in the messages object.</p>
</td>
        </tr>



        <tr>

                <td class="name"><code>defaultMessage</code></td>


            <td class="type">


<span class="param-type">String</span>



            </td>


                <td class="attributes">



                </td>



                <td class="default">

                </td>


            <td class="description last"><p>The value to use if key does not exist.</p>
</td>
        </tr>



        <tr>

                <td class="name"><code>defaultOnFail</code></td>


            <td class="type">


<span class="param-type">String</span>



            </td>


                <td class="attributes">

                    &lt;optional&gt;<br />



                </td>



                <td class="default">

                    true

                </td>


            <td class="description last"><p>Whether to use the default messages if the messages fail to load.</p>
</td>
        </tr>



        <tr>

                <td class="name"><code>callback</code></td>


            <td class="type">


<span class="param-type">Function</span>



            </td>


                <td class="attributes">

                    &lt;optional&gt;<br />



                </td>



                <td class="default">

                </td>


            <td class="description last"><p>Passed the message function.</p>
</td>
        </tr>


	</tbody>
</table>



<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 483
    </li></ul></dd>







</dl>







    <h5>Returns:</h5>


<div class="param-desc">
    <p>A promise that is resolved with the message function.</p>

</div>



<dl>
	<dt class="return-type-label">
		Type
	</dt>
	<dd class="return-type">

<span class="param-type">Promise</span>


	</dd>
</dl>





</dd>



<dt>
    <h4 class="name" id="localizeSync"><span class="type-signature"></span>localizeSync<span class="signature">(key, defaultMessage)</span><span class="type-signature"> → {Function}</span></h4>


</dt>
<dd>


    <div class="description markdown-body">
        <p>&lt;p&gt;Localize a key and return a message function.&lt;/p&gt;

</p>
<pre><code>    &lt;p&gt;If the message is a precompiled function then this is returned
    directly. Otherwise the message string is compiled to a function with
    &lt;a href="https://github.com/SlexAxton/messageformat.js#readme"&gt;
    messageformat.js&lt;/a&gt;. The resulting function takes an object mapping
    from variables in the message to their values.&lt;/p&gt;

    &lt;p&gt;Be aware that if the messages have not loaded yet this method
    will not return the localized string. See &lt;code&gt;localize&lt;/code&gt; for
    method that works whether the messages have loaded or not.&lt;/p&gt;</code></pre>

    </div>







        <h5>Parameters:</h5>


<table class="params">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>





		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>key</code></td>


            <td class="type">


<span class="param-type">String</span>



            </td>





            <td class="description last"><p>The key to the string in the messages object.</p>
</td>
        </tr>



        <tr>

                <td class="name"><code>defaultMessage</code></td>


            <td class="type">


<span class="param-type">String</span>



            </td>





            <td class="description last"><p>The value to use if key does not exist.</p>
</td>
        </tr>


	</tbody>
</table>



<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        core/localizer.js, line 396
    </li></ul></dd>







</dl>







    <h5>Returns:</h5>


<div class="param-desc">
    <p>A function that accepts an object mapping variables
                            in the message string to values.</p>

</div>



<dl>
	<dt class="return-type-label">
		Type
	</dt>
	<dd class="return-type">

<span class="param-type">Function</span>


	</dd>
</dl>





</dd>

        </dl>





</article>





    </section>

    <nav class="docs">
        <h2>Search</h2><input type="search" id="index-search" placeholder="search for" /><details open=""><summary>Types</summary><ul><li><a href="Application.html">Application</a></li><li><a href="ArrayController.html">ArrayController</a></li><li><a href="BindingDescriptor.html">BindingDescriptor</a></li><li><a href="BitField.html">BitField</a></li><li><a href="Button.html">Button</a></li><li><a href="BytesConverter.html">BytesConverter</a></li><li><a href="ChangeEventDispatchingArray.html">ChangeEventDispatchingArray</a></li><li><a href="CheckInput.html">CheckInput</a></li><li><a href="Component.html">Component</a></li><li><a href="Composer.html">Composer</a></li><li><a href="Condition.html">Condition</a></li><li><a href="Converter.html">Converter</a></li><li><a href="CurrencyConverter.html">CurrencyConverter</a></li><li><a href="DateConverter.html">DateConverter</a></li><li><a href="DateValidator.html">DateValidator</a></li><li><a href="DefaultLocalizer.html">DefaultLocalizer</a></li><li><a href="Deserializer.html">Deserializer</a></li><li><a href="DynamicElement.html">DynamicElement</a></li><li><a href="DynamicText.html">DynamicText</a></li><li><a href="EditableText.html">EditableText</a></li><li><a href="Enum.html">Enum</a></li><li><a href="EventManager.html">EventManager</a></li><li><a href="Exception.html">Exception</a></li><li><a href="Gate.html">Gate</a></li><li><a href="InputText.html">InputText</a></li><li><a href="InvertConverter.html">InvertConverter</a></li><li><a href="KeyComposer.html">KeyComposer</a></li><li><a href="KeyManager.html">KeyManager</a></li><li><a href="Localizer.html">Localizer</a></li><li><a href="Logger.html">Logger</a></li><li><a href="LowerCaseConverter.html">LowerCaseConverter</a></li><li><a href="MediaController.html">MediaController</a></li><li><a href="MessageFormat.html">MessageFormat</a></li><li><a href="MessageLocalizer.html">MessageLocalizer</a></li><li><a href="Montage.html">Montage</a></li><li><a href="MontageWindow.html">MontageWindow</a></li><li><a href="MutableEvent.html">MutableEvent</a></li><li><a href="NativeControl.html">NativeControl</a></li><li><a href="NewLineToBrConverter.html">NewLineToBrConverter</a></li><li><a href="NumberConverter.html">NumberConverter</a></li><li><a href="NumberValidator.html">NumberValidator</a></li><li><a href="ObjectController.html">ObjectController</a></li><li><a href="PressComposer.html">PressComposer</a></li><li><a href="PropertyChangeBindingListener.html">PropertyChangeBindingListener</a></li><li><a href="Repetition.html">Repetition</a></li><li><a href="RootComponent.html">RootComponent</a></li><li><a href="Serializer_.html">Serializer</a></li><li><a href="Slot.html">Slot</a></li><li><a href="State.html">State</a></li><li><a href="StateChart.html">StateChart</a></li><li><a href="Substitution.html">Substitution</a></li><li><a href="SwipeComposer.html">SwipeComposer</a></li><li><a href="Template_.html">Template</a></li><li><a href="TranslateComposer.html">TranslateComposer</a></li><li><a href="TrimConverter.html">TrimConverter</a></li><li><a href="UndoManager.html">UndoManager</a></li><li><a href="UpperCaseConverter.html">UpperCaseConverter</a></li><li><a href="Uuid_.html">Uuid</a></li><li><a href="Validator.html">Validator</a></li></ul></details><details><summary>Externals</summary><ul><li><a href="external-Array.html">Array</a></li><li><a href="external-Element.html">Element</a></li><li><a href="external-Function.html">Function</a></li><li><a href="external-Object.html">Object</a></li><li><a href="external-RegExp.html">RegExp</a></li><li><a href="external-String.html">String</a></li></ul></details><details><summary>Events</summary><ul><li><a href="PressComposer.html#event:longPress">longPress</a></li><li><a href="PressComposer.html#event:press">press</a></li><li><a href="PressComposer.html#event:pressCancel">pressCancel</a></li><li><a href="PressComposer.html#event:pressStart">pressStart</a></li></ul></details><details><summary>Tutorials</summary><ul><li><a href="tutorial-README.html">README</a></li></ul></details><details><summary>Global</summary><ul><li><a href="global.html#_bezierTubeBoundingSphere">_bezierTubeBoundingSphere</a></li><li><a href="global.html#_computeRotationValuesToXAxis">_computeRotationValuesToXAxis</a></li><li><a href="global.html#_rayRectangleIntersection">_rayRectangleIntersection</a></li><li><a href="global.html#_rayRectangleIntersectionPosition">_rayRectangleIntersectionPosition</a></li><li><a href="global.html#_sphereIntersection">_sphereIntersection</a></li><li><a href="global.html#linearScrollingVector">linearScrollingVector</a></li><li><a href="global.html#relative">relative</a></li><li><a href="global.html#resolve">resolve</a></li><li><a href="global.html#test">test</a></li></ul></details>
    </nav>

    <section id="next" class="next">
        <article>
            <h3 class="title">More help?</h3>
            <div class="cols">
                <div class="col col-1-2">
                    <p>Can't find what you are looking for? Get in touch, we're more than happy in helping answer your questions.
                    </p>
                </div>
                <aside class="col col-1-2">
                    <p><strong>Have feedback or ideas?</strong> Let us know by creating a new <a href="https://github.com/montagejs/montage/issues" target="_blank">issue</a>, join us in <a href="http://webchat.freenode.net/?channels=montage" target="_blank">IRC</a> or post questions to our <a href="https://groups.google.com/forum/?fromgroups#!forum/montagejs" target="_blank">Google Group</a>. We're also on <a href="https://twitter.com/montage_js" target="_blank">Twitter</a> and <a href="https://plus.google.com/116915300739108010954/" target="_blank">Google+</a>.
                    </p>
                </aside>
            </div>
        </article>
    </section>

    <footer class="footer">
        2013 montagejs.org - <a href="https://github.com/montagejs/montagejs.org">Contributions</a> to this page are welcomed.
    </footer>

    <script>var codes=document.getElementsByTagName("code");codes&&Array.prototype.forEach.call(codes,function(e){e.classList.contains("lang-javascript")&&e.classList.add("prettyprint")}),prettyPrint()</script>
    
    <script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-35717912-1"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>

</body>
</html>